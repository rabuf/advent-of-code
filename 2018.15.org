#+STARTUP: indent contents
#+OPTIONS: num:nil toc:nil
* Day 15
** Executing this code
If you have a lisp installation, emacs, org-mode, and org-babel
support for lisp installed you can run this by:
1. Starting slime (=M-x slime=)
2. Typing =C-c C-c= in the block [[initialize][initialize]].
3. In the repl type =(in-package :aoc-2018-15)=
4. Typing =C-c C-c= in the block [[answers][answers]]
** Initial stuffs
*** Packages to load
#+NAME: packages
#+BEGIN_SRC lisp :results silent
  (unless (find-package :cl-ppcre)
    (ql:quickload "cl-ppcre"))
  (unless (find-package :iterate)
    (ql:quickload "iterate"))
  (unless (find-package :parseq)
    (ql:quickload "parseq"))
  (unless (find-package :fiveam)
    (ql:quickload "fiveam"))
#+END_SRC
*** Create package for this day
#+NAME: initialize
#+BEGIN_SRC lisp :noweb yes :results silent
  <<packages>>
  (defpackage :aoc-2018-15
    (:use :common-lisp
          :iterate
          :parseq
          :fiveam)
    (:export :problem-a
             :problem-b))
  (in-package :aoc-2018-15)
#+END_SRC
** Input
This is an "oh jeez" one. The input isn't bad, a simple grid where:
- =#= :: wall
- =.= :: open space
- =G= :: goblin
- =E= :: elf

The map is parsed into a struct consisting of all open cavern spaces,
elves, and goblins. I've let the health and attack power be
parameters.

#+NAME: parse-map
#+BEGIN_SRC lisp :results silent
  (defun parse-map (lines &key (goblin-hp 200) (goblin-ap 3) (elf-hp 200) (elf-ap 3))
    (let ((maxx (length (car lines)))
          (maxy (length lines))
          (elves (make-hash-table))
          (goblins (make-hash-table))
          (grid (make-hash-table)))
      (iter (for y from 0)
            (for line in lines)
            (iter (for x from 0)
                  (for c in-string line)
                  (case c
                    (#\. (setf (gethash (complex x y) grid) t))
                    (#\G (setf (gethash (complex x y) grid) t)
                     (setf (gethash (complex x y) goblins)
                           (make-player :kind :goblin :position (complex x y) :hp goblin-hp :ap goblin-ap)))
                    (#\E (setf (gethash (complex x y) grid) t)
                     (setf (gethash (complex x y) elves)
                           (make-player :kind :elf :position (complex x y) :hp elf-hp :ap elf-ap)))
                    (otherwise nil))))
      (make-game :grid grid :elves elves :goblins goblins :maxx maxx :maxy maxy :round 0)))
#+END_SRC

I'm going to represent the game with a simple struct: three hashtables
and the max x and y coordinates from the input (useful for printing out).

#+NAME: game-struct
#+BEGIN_SRC lisp :results silent
  (defstruct game
    grid
    elves
    goblins
    maxx
    maxy
    round)
  (defstruct player
    kind
    position
    hp
    ap)
#+END_SRC

#+NAME: read-input
#+BEGIN_SRC lisp :results silent
  (defun read-input (file)
    (iter (for line in-file file using #'read-line)
          (collect line)))
#+END_SRC
#+NAME: input
#+BEGIN_SRC lisp :noweb yes :results silent
  (defparameter *input*
    (parse-map (read-input "input/15.txt")))
#+END_SRC
** Part 1
All order ties are in "reading order". Since complex numbers aren't
directly comparable (for sorting), I'll make a function that can
compare them and pass that to =sort=. You can use any key, by default
this will just sort a list of complex numbers.

#+NAME: reading-order
#+BEGIN_SRC lisp :results silent
  (defun reading-order (list &key (key #'identity))
    (flet ((complex<= (c1 c2)
             (or (< (imagpart c1) (imagpart c2))
                 (and (= (imagpart c1) (imagpart c2))
                      (< (realpart c1) (realpart c2)))
                 (= c1 c2))))
      (sort list #'complex<= :key key)))
#+END_SRC

Distance is Manhattan (city block) distance.
#+NAME: manhattan-distance
#+BEGIN_SRC lisp :results silent
  (defun manhattan-distance (p1 p2)
    (+ (abs (imagpart (- p1 p2)))
       (abs (realpart (- p1 p2)))))
#+END_SRC

I needed this utility function often enough that I decided to make it
its own thing. Given a position and a table with keys that are also
complex number encoded positions, this will return the 4 neighbors (if
they exist).

#+NAME: get-neighbors
#+BEGIN_SRC lisp :results silent
  (defun get-neighbors (position table)
    (iter (repeat 4)
          (with offset = 1)
          (when (gethash (+ position offset) table)
            (collect (gethash (+ position offset) table)))
          (setf offset (* offset #C(0 1)))))
#+END_SRC

I should add these to a library, I've needed them for several problems
now.

I also want to be able to print the grid, for debugging purposes.
#+NAME: print-grid
#+BEGIN_SRC lisp :results silent
  (defun print-grid (game)
    (format t "Round #~d~%" (game-round game))
    (let ((goblins (game-goblins game))
          (elves (game-elves game))
          (grid (game-grid game)))
      (iter (for y from 0 below (game-maxy game))
            (for players-in-row = nil)
            (iter (for x from 0 below (game-maxx game))
                  (let ((coord (complex x y)))
                    (cond ((null (gethash coord grid))
                           (format t "#"))
                          ((gethash coord goblins)
                           (format t "G")
                           (push (gethash coord goblins) players-in-row))
                          ((gethash coord elves)
                           (format t "E")
                           (push (gethash coord elves) players-in-row))
                          (t (format t ".")))))
            (iter (for p in players-in-row)
                  (case (player-kind p)
                    (:elf (format t " (E ~d ~d)" (player-hp p) (player-ap p)))
                    (:goblin (format t " (G ~d ~d)" (player-hp p) (player-ap p)))))
            (format t "~%"))
      (format t "Elf HP: ~d~%"
              (iter (for (k v) in-hashtable elves)
                    (sum (player-hp v))))
      (format t "# Elves: ~d~%" (hash-table-count elves))
      (format t "Goblin HP: ~d~%"
              (iter (for (k v) in-hashtable goblins)
                    (sum (player-hp v))))
      (format t "# Goblins: ~d~%" (hash-table-count goblins))))
#+END_SRC

Some rules for the game:

1. Attacks only happen horizontally and vertically, preference to
   reading order when there are mulitple options.
2. Movement only happens horizontally and vertically, preference to
   reading order when there are mulitple options.
3. If a combatant is adjacent to an enemy at the start of their turn,
   they attack.
   1. Attacks are againts the opponents HP, reduced by the combatants
      attack power.
4. If no adjacent combatants, the creature will find the nearest enemy
   and move towards them, preference again given to reading order when
   they have multiple enemies they may prefer.
5. The game ends when any combatant finds that they've wiped out the enemy.
6. *Rounds* end when all combatants have gone, so the game can end in
   the middle of a round for counting purposes.
7. The desired result for Part 1 is the number of *full* rounds
   multiplied by the sum of the HP of the survivors.

#+NAME: attack
#+BEGIN_SRC lisp :results silent
  (defun attack (attacker victim)
    (decf (player-hp victim) (player-ap attacker)))
#+END_SRC


All this code below is getting unwieldy, I'm going to start breaking
it into chunks which can be described and reasoned about more easily.

For convenience, I'm pulling these variables out of the game state so
referencing them isn't so cumbersome.
#+NAME: execute-round-let-block
#+BEGIN_SRC lisp :results silent
  (combatants nil)
  (goblins (game-goblins game))
  (elves (game-elves game))
#+END_SRC

We need a list of all combatants, regardless of their kind.
#+NAME: collect-combatants
#+BEGIN_SRC lisp :results silent
  (iter (for (k v) in-hashtable goblins)
        (push v combatants))
  (iter (for (k v) in-hashtable elves)
        (push v combatants))
#+END_SRC

Sort the combatants once so we can then execute over the list in order
without having to reexamine it later.
#+NAME: sort-combatants
#+BEGIN_SRC lisp :results silent
  (setf combatants (reading-order combatants :key #'player-position))
#+END_SRC

This is the main kernel of the game loop. My first version of player
movement got unwieldy, so I cleared it all out and now I'm starting
over.
#+NAME: execute-round
#+BEGIN_SRC lisp :results silent :noweb yes
  (defun execute-round (game)
    (let (
          <<execute-round-let-block>>
          )
      <<collect-combatants>>
      <<sort-combatants>>
      (iter (while combatants)
            ;; Get the current combatant
            (let* ((current (pop combatants))
                   (enemies (case (player-kind current)
                              (:goblin elves)
                              (:elf goblins)))
                   (allies (case (player-kind current)
                             (:goblin goblins)
                             (:elf elves)))
                   (position (player-position current))
                   ;; Get all their enemies (if any).
                   (neighbors (reading-order (get-neighbors position enemies) :key #'player-position)))
              ;; Combatants will *attack* their first (reading-order)
              ;; neighbor, if any. That is their entire turn. The round
              ;; terminates early, and doesn't increment the round
              ;; number, if a combatant finds that it has no enemies.
              (when (= 0 (hash-table-count enemies))
                (return nil))
              ;; I'm putting this first, to capture movement. Because
              ;; after movement there is an attack if they've moved in
              ;; range of an enemy.
              (unless neighbors
                (move-player current game))
              ;; Second time calculating neighbors, but this is because
              ;; the players position may have been updated.
              (setf neighbors (reading-order (get-neighbors (player-position current) enemies) :key #'player-position))
              (when neighbors
                ;; The victim isn't necessarily first. We need to first
                ;; sort the neighbors by their remaining health.
                (setf neighbors (sort neighbors #'<= :key #'player-hp))
                ;; Then filter out all who aren't tied for the lowest
                (setf neighbors (remove-if (lambda (v)
                                             (> (player-hp v) (player-hp (car neighbors))))
                                           neighbors))
                ;; Now sort in reading order
                (setf neighbors (reading-order neighbors :key #'player-position))
                (let ((victim (car neighbors)))
                  ;; Attack them
                  (attack current victim)
                  ;; If the victim's health drops to 0 or lower
                  (when (<= (player-hp victim) 0)
                    ;; Remove the victim from the list of potential
                    ;; combatants (needed if they haven't taken a turn
                    ;; yet)
                    (setf combatants (remove (player-position victim) combatants
                                             :key #'player-position))
                    ;; Remove the victim from their hash table so no one
                    ;; else attempts to attack them, and they're removed
                    ;; from future rounds.
                    (remhash (player-position victim) enemies))))
            ;; If the while loop terminates normally then we return t to
            ;; indicate that the game can continue, and we increment the
            ;; round count.
            (finally (incf (game-round game))
                     (return t))))))
              ;; If there are no enemies adjacent to the current
              ;; attacker, they have to move.
              ;; I'll do that later, let's test the attack logic.
#+END_SRC

This is the part that stumped me before. I had parts of it, but it was
too cumbersome to debug. The problem I ran into was that I was letting
the players get caught up in loops with poor pathfinding. They need to
actually move along a path towards the enemy, not just to the closest
position (which is what I did the first time). I tore that all out,
here's v2.
#+NAME: move-player
#+BEGIN_SRC lisp :results silent
  (defun move-player (player game)
    (let* ((enemies (case (player-kind player)
                      (:goblin (game-elves game))
                      (:elf (game-goblins game))))
           (allies (case (player-kind player)
                     (:elf (game-elves game))
                     (:goblin (game-goblins game))))
           (position (player-position player))
           (grid (game-grid game))
           (potentials (intersection (in-range enemies allies grid) (reachable position game)))
           (min-path (iter (for p in potentials)
                           (minimizing (path-length position p game)))))
      (when min-path
        (setf potentials
              (remove-if (lambda (p)
                           (> (path-length position p game) min-path))
                         potentials))
        (multiple-value-bind (distance step) (path-length position (car (reading-order potentials)) game)
          (declare (ignore distance))
          (remhash position allies)
          (setf (player-position player) step)
          (setf (gethash step allies) player)))))
#+END_SRC

If I understand it correctly, I need to find the path lengths (not
Manhattan distance) to each of the potential targets. Then select the
target with the shortest path distance, reading order to break ties.
#+NAME: path-length
#+BEGIN_SRC lisp :results silent
  (defun path-length (start end game)
    (let ((graph (make-hash-table))
          (grid (game-grid game))
          (elves (game-elves game))
          (goblins (game-goblins game))
          (search nil)
          (min-path-length (+ (game-maxx game) (game-maxy game))))
      (setf (gethash end graph) 0)
      ;; start off with the initial points to consider
      (iter (repeat 4)
            (with offset = 1)
            (when (and (not (gethash (+ end offset) elves))
                       (not (gethash (+ end offset) goblins))
                       (gethash (+ end offset) grid))
              (push (+ end offset) search))
            (setf offset (* offset #C(0 1))))
      (iter (while search)
            (let ((next (car (last search))))
              (setf search (remove next search))
              (setf (gethash next graph)
                    (iter (repeat 4)
                          (with offset = 1)
                          (when (and (not (gethash (+ next offset) elves))
                                     (not (gethash (+ next offset) goblins))
                                     (not (gethash (+ next offset) graph))
                                     (gethash (+ next offset) grid))
                            (push (+ next offset) search))
                          (when (gethash (+ next offset) graph)
                            (minimizing (1+ (gethash (+ next offset) graph))))
                          (setf offset (* offset #C(0 1)))))))
      (setf min-path-length (iter (repeat 4)
                                  (with offset = 1)
                                  (when (gethash (+ start offset) graph)
                                    (minimizing (1+ (gethash (+ start offset) graph))))
                                  (setf offset (* offset #C(0 1)))))
      (values min-path-length
              (when min-path-length
                (car (reading-order
                      (iter (repeat 4)
                            (with offset = 1)
                            (when (and (gethash (+ start offset) graph)
                                       (= (gethash (+ start offset) graph) (1- min-path-length)))
                              (collecting (+ start offset)))
                            (setf offset (* offset #C(0 1))))))))))
#+END_SRC
Going over the requirements:
1. [X] Find all spaces adjacent to enemies that are open.
2. [X] Find which of those spaces are reachable by the player.
3. [ ] Select the closest, reading order sort if needed, and that's
   the target position.
4. [ ] The next part is the hard part, find the shortest path and move
   along it.

#+NAME: in-range
#+BEGIN_SRC lisp :results silent
  (defun in-range (enemies allies grid)
    (let ((in-range nil))
      (iter (for (k v) in-hashtable enemies)
            (for offset = 1)
            (iter (repeat 4)
                  (when (and (not (gethash (+ offset k) enemies))
                             (not (gethash (+ offset k) allies))
                             (gethash (+ offset k) grid))
                    (push (+ offset k) in-range))
                  (setf offset (* offset #C(0 1)))))
      in-range))
#+END_SRC

#+NAME: simplified-grid
#+BEGIN_SRC lisp :results silent
  (defun simplified-grid (game)
    (let ((grid (make-array (list (game-maxx game) (game-maxy game)) :initial-element #\#)))
      (iter (for y from 0 below (game-maxy game))
            (iter (for x from 0 below (game-maxx game))
                  (let ((pos (complex x y)))
                    (when (and (not (or (gethash pos (game-goblins game))
                                        (gethash pos (game-elves game))))
                               (gethash pos (game-grid game)))
                      (setf (aref grid x y) #\.)))))
      grid))
  (defun print-simplified-grid (grid)
    (let ((dimensions (array-dimensions grid)))
      (iter (for y from 0 below (cadr dimensions))
            (iter (for x from 0 below (car dimensions))
                  (format t "~a" (aref grid x y)))
            (format t "~%"))))
#+END_SRC

#+NAME: reachable
#+BEGIN_SRC lisp :results silent
  (defun reachable (position game)
    (let ((grid (simplified-grid game))
          (search (list position))
          (reachable nil))
      (iter (while search)
            (for offset = 1)
            (let* ((p (pop search))
                   (x (realpart p))
                   (y (imagpart p)))
              (iter (repeat 4)
                    (let ((x (+ x (realpart offset)))
                          (y (+ y (imagpart offset))))
                      (when (char= #\. (aref grid x y))
                        (setf (aref grid x y) #\?)
                        (push (complex x y) search)
                        (push (complex x y) reachable)))
                    (setf offset (* offset #C(0 1))))))
      reachable))
#+END_SRC
#+NAME: run-game
#+BEGIN_SRC lisp :results silent
  (defun run-game (game &optional (round-limit 1000))
    (print-grid game)
    (iter (while (execute-round game))
          (for i from 0 below round-limit))
    (print-grid game))
#+END_SRC

#+NAME: problem-a
#+BEGIN_SRC lisp :noweb yes :results silent
  (defun problem-a () (format t "Problem 15 A: ~a~%" (identity *input*)))
#+END_SRC
** Part 2
I'm more annoyed at this one than interested in cleaning up my
unmaintainable code. It's inefficient and ugly throughout. But I got
part 1 finally.

Part 2 asks us to run the game over and over increasing the elf attack
power from the baseline of 3 until they're just able to win, and then
to report the round times the elf HP of that case.

I'm going to cheat a little bit on this one. I'm going to use the REPL
and do a binary search.

3: Lost.

50: Won after 19 rounds with 1799 HP

25: Won after 27 rounds with 1628 HP

12: Won after 52 rounds with 1083 HP

6: Lost after 84 rounds.

9: Won after 72 rounds with 620 HP

7: Lost after 132 rounds.

8: Won after 85 round swith 442 HP.

Dammit. The problem is actually: Without a single death. Starting back
at 50.

50: All elves lived, 19 rounds and 1799 HP

25: All elves lived, 27 rounds nad 1628 HP

12: One elf died

19: All elves lived, 34 rounds and 1439 HP

15: All elves lived, 45 rounds and 1280 HP

13: Lost an elf.

14: All elves lived, 43 rounds and 1187 HP: 51041
#+NAME: problem-b
#+BEGIN_SRC lisp :noweb yes :results silent
  (defun problem-b () (format t "Problem 15 B: ~a~%" (identity *input*)))
#+END_SRC
** Putting it all together
#+NAME: structs
#+BEGIN_SRC lisp :noweb yes :results silent
  <<game-struct>>
#+END_SRC
#+NAME: functions
#+BEGIN_SRC lisp :noweb yes :results silent
  <<read-input>>
  <<parse-map>>
  <<reading-order>>
  <<print-grid>>
  <<manhattan-distance>>
  <<attack>>
  <<move-player>>
  <<simplified-grid>>
  <<in-range>>
  <<execute-round>>
  <<run-game>>
#+END_SRC
#+NAME: answers
#+BEGIN_SRC lisp :results output :exports both :noweb yes :tangle 2018.15.lisp
  (defparameter *debug* nil)
  <<structs>>
  <<initialize>>
  <<functions>>
  <<input>>
  <<problem-a>>
  <<problem-b>>
  (problem-a)
  (problem-b)
#+END_SRC
** Answer
#+RESULTS: answers
#+begin_example
Problem 15 A: #S(GAME
                 :GRID #<HASH-TABLE :TEST EQL :COUNT 448 {10040D3803}>
                 :ELVES #<HASH-TABLE :TEST EQL :COUNT 10 {10040D2FC3}>
                 :GOBLINS #<HASH-TABLE :TEST EQL :COUNT 20 {10040D33E3}>
                 :MAXX 32
                 :MAXY 32
                 :ROUND 0)
Problem 15 B: #S(GAME
                 :GRID #<HASH-TABLE :TEST EQL :COUNT 448 {10040D3803}>
                 :ELVES #<HASH-TABLE :TEST EQL :COUNT 10 {10040D2FC3}>
                 :GOBLINS #<HASH-TABLE :TEST EQL :COUNT 20 {10040D33E3}>
                 :MAXX 32
                 :MAXY 32
                 :ROUND 0)
#+end_example
** Test Cases

Some simple grids to test printing and single round advancement.

#+NAME: single-round-combat
#+BEGIN_SRC lisp :results output :exports both
  (let ((game (parse-map (list "######"
                               "#.GE.#"
                               "#....#"
                               "######"))))
    (print-grid game)
    (execute-round game)
    (print-grid game))
#+END_SRC

Expected result: both start at 200 HP, both end at 197 HP.

#+RESULTS: single-round-combat
#+begin_example
Round #0
######
#.GE.# (E 200 3) (G 200 3)
#....#
######
Elf HP: 200
Goblin HP: 200
Round #1
######
#.GE.# (E 197 3) (G 197 3)
#....#
######
Elf HP: 197
Goblin HP: 197
#+end_example

#+NAME: full-round-combat
#+BEGIN_SRC lisp :results output :exports both
  (let ((game (parse-map (list "######"
                               "#.GE.#"
                               "#....#"
                               "######"))))
    (run-game game))
#+END_SRC

The goblin should survive, and he does. He wins because he hits
first.
#+RESULTS: full-round-combat
#+begin_example
Round #0
######
#.GE.# (E 200 3) (G 200 3)
#....#
######
Elf HP: 200
Goblin HP: 200
Round #67
######
#.G..# (G 2 3)
#....#
######
Elf HP: 0
Goblin HP: 2
#+end_example

#+NAME: two-on-one-combat
#+BEGIN_SRC lisp :results output :exports both
  (let ((game (parse-map (list "######"
                               "#.GE.#"
                               "#..G.#"
                               "######"))))
    (run-game game))
#+END_SRC

Expected: Elf dies after 200/6 rounds (rounded down, so round 33). Top
Goblin has HP reduced by 3 33 times to 101 HP. Bottom Goblin has full
health. This gives me confidence my round count is correct.
#+RESULTS: two-on-one-combat
#+begin_example
Round #0
######
#.GE.# (E 200 3) (G 200 3)
#..G.# (G 200 3)
######
Elf HP: 200
Goblin HP: 400
Round #33
######
#.G..# (G 101 3)
#..G.# (G 200 3)
######
Elf HP: 0
Goblin HP: 301
#+end_example

#+NAME: single-movement
#+BEGIN_SRC lisp :results output :exports both
  (let ((game (parse-map (list "######"
                               "#..G.#"
                               "#....#"
                               "#..E.#"
                               "######"))))
    (run-game game))
#+END_SRC

Expected: The Goblin moves one south, and is attacked on that same
round by the ELf. This gives the Elf the advantage of first attack and
he wins after 67 rounds.
#+RESULTS: single-movement
#+begin_example
Round #0
######
#..G.# (G 200 3)
#....#
#..E.# (E 200 3)
######
Elf HP: 200
Goblin HP: 200
Round #67
######
#....#
#..G.# (G 2 3)
#....#
######
Elf HP: 0
Goblin HP: 2
#+end_example

#+NAME: tc-18740
#+BEGIN_SRC lisp :results output :exports both
  (let ((game (parse-map (list "#########"
                               "#G......#"
                               "#.E.#...#"
                               "#..##..G#"
                               "#...##..#"
                               "#...#...#"
                               "#.G...G.#"
                               "#.....G.#"
                               "#########"))))
        (run-game game))
#+END_SRC

#+RESULTS: tc-18740
#+begin_example
Round #0
#########
#G......# (G 200 3)
#.E.#...# (E 200 3)
#..##..G# (G 200 3)
#...##..#
#...#...#
#.G...G.# (G 200 3) (G 200 3)
#.....G.# (G 200 3)
#########
Elf HP: 200
Goblin HP: 1000
Round #20
#########
#.G.....# (G 137 3)
#G.G#...# (G 200 3) (G 200 3)
#.G##...# (G 200 3)
#...##..#
#.G.#...# (G 200 3)
#.......#
#.......#
#########
Elf HP: 0
Goblin HP: 937
#+end_example

#+NAME: tc-28944
#+BEGIN_SRC lisp :results output :exports both
  (let ((game (parse-map (list "#######"
                               "#.E...#"
                               "#.#..G#"
                               "#.###.#"
                               "#E#G#G#"
                               "#...#G#"
                               "#######"))))
    (run-game game))
#+END_SRC

#+RESULTS: tc-28944
#+begin_example
Round #0
#######
#.E...# (E 200 3)
#.#..G# (G 200 3)
#.###.#
#E#G#G# (G 200 3) (G 200 3) (E 200 3)
#...#G# (G 200 3)
#######
Elf HP: 400
Goblin HP: 800
Round #54
#######
#.....#
#.#G..# (G 200 3)
#.###.#
#.#.#.#
#G.G#G# (G 200 3) (G 77 3) (G 59 3)
#######
Elf HP: 0
Goblin HP: 536
#+end_example

#+NAME: tc-27755
#+BEGIN_SRC lisp :results output :exports both
  (let ((game (parse-map (list
                          "#######"
                          "#E.G#.#"
                          "#.#G..#"
                          "#G.#.G#"
                          "#G..#.#"
                          "#...E.#"
                          "#######"))))
    (run-game game))
#+END_SRC

#+RESULTS: tc-27755
#+begin_example
Round #0
#######
#E.G#.# (G 200 3) (E 200 3)
#.#G..# (G 200 3)
#G.#.G# (G 200 3) (G 200 3)
#G..#.# (G 200 3)
#...E.# (E 200 3)
#######
Elf HP: 400
Goblin HP: 1000
Round #35
#######
#G.G#.# (G 194 3) (G 104 3)
#.#G..# (G 200 3)
#..#..#
#...#G# (G 95 3)
#...G.# (G 200 3)
#######
Elf HP: 0
Goblin HP: 793
#+end_example

#+NAME: complex-movement-example
#+BEGIN_SRC lisp :results output :exports both
  (let ((game (parse-map (list "#########"
                               "#G..G..G#"
                               "#.......#"
                               "#.......#"
                               "#G..E..G#"
                               "#.......#"
                               "#.......#"
                               "#G..G..G#"
                               "#########"))))
    (iter (repeat 4)
          (print-grid game)
          (execute-round game))
    (print-grid game))
#+END_SRC

#+RESULTS: complex-movement-example
#+begin_example
Round #0
#########
#G..G..G# (G 200 3) (G 200 3) (G 200 3)
#.......#
#.......#
#G..E..G# (G 200 3) (E 200 3) (G 200 3)
#.......#
#.......#
#G..G..G# (G 200 3) (G 200 3) (G 200 3)
#########
Elf HP: 200
Goblin HP: 1600
Round #1
#########
#.G...G.# (G 200 3) (G 200 3)
#...G...# (G 197 3)
#...E..G# (G 200 3) (E 200 3)
#.G.....# (G 200 3)
#.......#
#G..G..G# (G 200 3) (G 200 3) (G 200 3)
#.......#
#########
Elf HP: 200
Goblin HP: 1597
Round #2
#########
#..G.G..# (G 200 3) (G 200 3)
#...G...# (G 194 3)
#.G.E.G.# (G 200 3) (E 197 3) (G 200 3)
#.......#
#G..G..G# (G 200 3) (G 200 3) (G 200 3)
#.......#
#.......#
#########
Elf HP: 197
Goblin HP: 1594
Round #3
#########
#.......#
#..GGG..# (G 200 3) (G 191 3) (G 200 3)
#..GEG..# (G 200 3) (E 185 3) (G 200 3)
#G..G...# (G 200 3) (G 200 3)
#......G# (G 200 3)
#.......#
#.......#
#########
Elf HP: 185
Goblin HP: 1591
Round #4
#########
#.......#
#..GGG..# (G 200 3) (G 188 3) (G 200 3)
#..GEG..# (G 200 3) (E 173 3) (G 200 3)
#G..G...# (G 200 3) (G 200 3)
#......G# (G 200 3)
#.......#
#.......#
#########
Elf HP: 173
Goblin HP: 1588
#+end_example

#+BEGIN_SRC lisp :results output :exports both
  (let ((game (parse-map (list "################################"
                               "#################.....##########"
                               "#################..#.###########"
                               "#################.........######"
                               "##################......########"
                               "#################G.GG###########"
                               "###############...#..###########"
                               "###############......G..########"
                               "############..G.........########"
                               "##########.G.....G......########"
                               "##########......#.........#..###"
                               "##########...................###"
                               "#########G..G.#####....E.G.E..##"
                               "######..G....#######...........#"
                               "#######.....#########.........##"
                               "#######..#..#########.....#.####"
                               "##########..#########..G.##..###"
                               "###########G#########...E...E.##"
                               "#########.G.#########..........#"
                               "#########GG..#######.......##.E#"
                               "######.G......#####...##########"
                               "#...##..G..............#########"
                               "#...#...........###..E.#########"
                               "#.G.............###...##########"
                               "#................###############"
                               "##.........E.....###############"
                               "###.#..............#############"
                               "###..G........E.....############"
                               "###......E..........############"
                               "###......#....#E#...############"
                               "###....####.#...##.#############"
                               "################################"))))
    (run-game game))
#+END_SRC

#+RESULTS:
#+begin_example
Round #0
################################
#################.....##########
#################..#.###########
#################.........######
##################......########
#################G.GG########### (G 200 3) (G 200 3) (G 200 3)
###############...#..###########
###############......G..######## (G 200 3)
############..G.........######## (G 200 3)
##########.G.....G......######## (G 200 3) (G 200 3)
##########......#.........#..###
##########...................###
#########G..G.#####....E.G.E..## (E 200 3) (G 200 3) (E 200 3) (G 200 3) (G 200 3)
######..G....#######...........# (G 200 3)
#######.....#########.........##
#######..#..#########.....#.####
##########..#########..G.##..### (G 200 3)
###########G#########...E...E.## (E 200 3) (E 200 3) (G 200 3)
#########.G.#########..........# (G 200 3)
#########GG..#######.......##.E# (E 200 3) (G 200 3) (G 200 3)
######.G......#####...########## (G 200 3)
#...##..G..............######### (G 200 3)
#...#...........###..E.######### (E 200 3)
#.G.............###...########## (G 200 3)
#................###############
##.........E.....############### (E 200 3)
###.#..............#############
###..G........E.....############ (E 200 3) (G 200 3)
###......E..........############ (E 200 3)
###......#....#E#...############ (E 200 3)
###....####.#...##.#############
################################
Elf HP: 2000
Goblin HP: 4000
Round #1
################################
#################.....##########
#################..#.###########
#################.........######
##################......########
#################....###########
###############..G#GG########### (G 200 3) (G 200 3) (G 200 3)
###############.......G.######## (G 200 3)
############...G........######## (G 200 3)
##########..G.....G.....######## (G 200 3) (G 200 3)
##########......#.........#..###
##########..G................### (G 200 3)
#########.G...#####.....EGE...## (E 200 3) (G 194 3) (E 197 3) (G 200 3)
######...G...#######...........# (G 200 3)
#######.....#########.........##
#######..#..#########.....#.####
##########..#########...G##.E### (E 200 3) (G 197 3)
###########.#########...E.....## (E 197 3)
#########.GG#########.........E# (E 200 3) (G 200 3) (G 200 3)
#########..G.#######.......##..# (G 200 3)
######...G....#####...########## (G 200 3)
#...##.G.G...........E.######### (E 200 3) (G 200 3) (G 200 3)
#...#...........###....#########
#..G............###...########## (G 200 3)
#..........E.....############### (E 200 3)
##...............###############
###.#..............#############
###...G..E...E......############ (E 200 3) (E 200 3) (G 200 3)
###............E....############ (E 200 3)
###......#....#.#...############
###....####.#...##.#############
################################
Elf HP: 1994
Goblin HP: 3991
Round #2
################################
#################.....##########
#################..#.###########
#################.........######
##################......########
#################....###########
###############...#..###########
###############..G.GG..G######## (G 200 3) (G 200 3) (G 200 3) (G 200 3)
############....G.......######## (G 200 3)
##########...G.....G....######## (G 200 3) (G 200 3)
##########......#.........#..###
##########G..G...............### (G 200 3) (G 200 3)
#########G....#####.....EGE...## (E 200 3) (G 188 3) (E 194 3) (G 200 3)
######.......#######...........#
#######.....#########.........##
#######..#..#########.....#.####
##########..#########...G##E.### (E 200 3) (G 194 3)
###########G#########...E.....## (E 194 3) (G 200 3)
#########...#########........E.# (E 200 3)
#########.G..#######.......##..# (G 200 3)
######....GG..#####..E########## (E 200 3) (G 200 3) (G 200 3)
#...##..G.G............######### (G 200 3) (G 200 3)
#...#...........###....#########
#...G......E....###...########## (E 200 3) (G 200 3)
#................###############
##...............###############
###.#........E.....############# (E 200 3)
###....GE...........############ (E 200 3) (G 197 3)
###...........E.....############ (E 200 3)
###......#....#.#...############
###....####.#...##.#############
################################
Elf HP: 1988
Goblin HP: 3979
Round #3
################################
#################.....##########
#################..#.###########
#################.........######
##################......########
#################....###########
###############...#..###########
###############...G..G..######## (G 200 3) (G 200 3)
############.....G.G...G######## (G 200 3) (G 200 3) (G 200 3)
##########....G.....G...######## (G 200 3) (G 200 3)
##########G.....#.........#..### (G 200 3)
##########....G..............### (G 200 3)
#########.G...#####.....EGE...## (E 200 3) (G 182 3) (E 191 3) (G 200 3)
######.......#######...........#
#######.....#########.........##
#######..#..#########.....#E#### (E 200 3)
##########..#########...G##..### (G 191 3)
###########.#########...E.....## (E 191 3)
#########..G#########.......E..# (E 200 3) (G 200 3)
#########G...#######.E.....##..# (E 200 3) (G 200 3)
######...G....#####...########## (G 200 3)
#...##...G.G...........######### (G 197 3) (G 200 3)
#...#.....GE....###....######### (E 200 3) (G 200 3)
#....G..........###...########## (G 200 3)
#................###############
##...........E...############### (E 200 3)
###.#..............#############
###....GE...........############ (E 197 3) (G 194 3)
###..........E......############ (E 200 3)
###......#....#.#...############
###....####.#...##.#############
################################
Elf HP: 1979
Goblin HP: 3964
Round #4
################################
#################.....##########
#################..#.###########
#################.........######
##################......########
#################....###########
###############...#..###########
###############....G..G.######## (G 200 3) (G 200 3)
############......G.G...######## (G 200 3) (G 200 3)
##########.....G.....G.G######## (G 200 3) (G 200 3) (G 200 3)
##########.G....#.........#..### (G 200 3)
##########G....G.............### (G 200 3) (G 200 3)
#########.....#####.....EGE...## (E 200 3) (G 176 3) (E 188 3)
######.......#######...........#
#######.....#########......E..## (E 200 3)
#######..#..#########.....#.####
##########..#########...G##..### (G 188 3)
###########.#########...E.....## (E 188 3)
#########...#########E.....E...# (E 200 3) (E 200 3)
#########.GG.#######.......##..# (G 200 3) (G 200 3)
######....G...#####...########## (G 200 3)
#...##.....G...........######### (G 194 3)
#...#....GGE....###....######### (E 194 3) (G 200 3) (G 200 3)
#.....G.........###...########## (G 200 3)
#............E...############### (E 200 3)
##...............###############
###.#..............#############
###....GE...........############ (E 194 3) (G 191 3)
###.........E.......############ (E 200 3)
###......#....#.#...############
###....####.#...##.#############
################################
Elf HP: 1964
Goblin HP: 3949
Round #5
################################
#################.....##########
#################..#.###########
#################.........######
##################......########
#################....###########
###############...#..###########
###############.....G...######## (G 200 3)
############.......G..G.######## (G 200 3) (G 200 3)
##########.G....G...G.G.######## (G 200 3) (G 200 3) (G 200 3) (G 200 3)
##########......#......G..#..### (G 200 3)
##########.G....G............### (G 200 3) (G 200 3)
#########.....#####.....EGE...## (E 200 3) (G 170 3) (E 185 3)
######.......#######.......E...# (E 200 3)
#######.....#########.........##
#######..#..#########.....#.####
##########..#########...G##..### (G 185 3)
###########.#########E..E.....## (E 185 3) (E 200 3)
#########...#########.....E....# (E 200 3)
#########G..G#######.......##..# (G 200 3) (G 200 3)
######.....G..#####...########## (G 200 3)
#...##.....G...........######### (G 191 3)
#...#.....GE....###....######### (E 188 3) (G 200 3)
#......G.G...E..###...########## (E 200 3) (G 200 3) (G 200 3)
#................###############
##...............###############
###.#..............#############
###....GE...........############ (E 191 3) (G 188 3)
###........E........############ (E 200 3)
###......#....#.#...############
###....####.#...##.#############
################################
Elf HP: 1949
Goblin HP: 3934
Round #6
################################
#################.....##########
#################..#.###########
#################.........######
##################......########
#################....###########
###############...#..###########
###############......G..######## (G 200 3)
############........GG..######## (G 200 3) (G 200 3)
##########..G....G...G..######## (G 200 3) (G 200 3) (G 200 3)
##########......#.....G.G.#..### (G 200 3) (G 200 3)
##########.......G...........### (G 200 3)
#########..G..#####.....EGE...## (E 200 3) (G 164 3) (E 182 3) (G 200 3)
######.......#######......E....# (E 200 3)
#######.....#########.........##
#######..#..#########.....#.####
##########..#########E..G##..### (G 182 3) (E 200 3)
###########.#########...E.....## (E 182 3)
#########...#########....E.....# (E 200 3)
#########....#######.......##..#
######...GG.G.#####...########## (G 200 3) (G 200 3) (G 200 3)
#...##.....G...........######### (G 188 3)
#...#.....GE....###....######### (E 182 3) (G 200 3)
#.......G.G.E...###...########## (E 200 3) (G 200 3) (G 200 3)
#................###############
##...............###############
###.#..............#############
###....GE...........############ (E 188 3) (G 185 3)
###.......E.........############ (E 200 3)
###......#....#.#...############
###....####.#...##.#############
################################
Elf HP: 1934
Goblin HP: 3919
Round #7
################################
#################.....##########
#################..#.###########
#################.........######
##################......########
#################....###########
###############...#..###########
###############.......G.######## (G 200 3)
############G.........G.######## (G 200 3) (G 200 3)
##########........G.G.G.######## (G 200 3) (G 200 3) (G 200 3)
##########......#......G..#..### (G 200 3)
##########.G......G.....G....### (G 200 3) (G 200 3) (G 200 3)
#########.....#####.....EGE...## (E 200 3) (G 155 3) (E 176 3)
######.......#######.....E.....# (E 200 3)
#######.....#########.........##
#######..#..#########.....#.####
##########..#########.E.G##..### (G 179 3) (E 200 3)
###########.#########...E.....## (E 179 3)
#########...#########...E......# (E 200 3)
#########....#######.......##..#
######...G....#####...########## (G 200 3)
#...##...G.GG..........######### (G 200 3) (G 185 3) (G 200 3)
#...#.....GE....###....######### (E 173 3) (G 200 3)
#..........GE...###...########## (E 200 3) (G 197 3)
#.......G........############### (G 200 3)
##...............###############
###.#..............#############
###....GE...........############ (E 185 3) (G 182 3)
###......E..........############ (E 200 3)
###......#....#.#...############
###....####.#...##.#############
################################
Elf HP: 1913
Goblin HP: 3898
Round #8
################################
#################.....##########
#################..#.###########
#################.........######
##################......########
#################....###########
###############...#..###########
###############......G..######## (G 200 3)
############.G.......G..######## (G 200 3) (G 200 3)
##########.........G.G..######## (G 200 3) (G 200 3)
##########......#.....G...#..### (G 200 3)
##########.........G...GG....### (G 200 3) (G 200 3) (G 200 3)
#########..G..#####.....EGE...## (E 200 3) (G 146 3) (E 170 3) (G 200 3)
######.......#######.....E.....# (E 200 3)
#######.....#########.........##
#######..#..#########.....#.####
##########..#########..EG##..### (G 173 3) (E 200 3)
###########.#########...E.....## (E 176 3)
#########...#########..E.......# (E 200 3)
#########....#######.......##..#
######....G...#####...########## (G 200 3)
#...##.....G...........######### (G 182 3)
#...#....GGEG...###....######### (G 200 3) (E 161 3) (G 200 3) (G 200 3)
#..........GE...###...########## (E 200 3) (G 194 3)
#................###############
##......G........############### (G 200 3)
###.#..............#############
###....GE...........############ (E 182 3) (G 179 3)
###.....E...........############ (E 200 3)
###......#....#.#...############
###....####.#...##.#############
################################
Elf HP: 1889
Goblin HP: 3874
Round #9
################################
#################.....##########
#################..#.###########
#################.........######
##################......########
#################....###########
###############...#..###########
###############.......G.######## (G 200 3)
############..G.......G.######## (G 200 3) (G 200 3)
##########..........G...######## (G 200 3)
##########......#....G....#..### (G 200 3)
##########..........G.G.G....### (G 200 3) (G 200 3) (G 200 3)
#########.....#####....GEGE...## (E 200 3) (G 137 3) (E 161 3) (G 200 3)
######.....G.#######.....E.....# (E 200 3) (G 200 3)
#######.....#########.........##
#######..#..#########.....#.####
##########..#########..EG##..### (G 167 3) (E 200 3)
###########.#########..EE.....## (E 173 3) (E 200 3)
#########...#########..........#
#########....#######.......##..#
######.....G..#####...########## (G 200 3)
#...##.....G...........######### (G 179 3)
#...#.....GEG...###....######### (G 200 3) (E 149 3) (G 200 3)
#........G.GE...###...########## (E 200 3) (G 191 3) (G 200 3)
#................###############
##...............###############
###.#...G..........############# (G 200 3)
###....GE...........############ (E 176 3) (G 173 3)
###....E............############ (E 200 3)
###......#....#.#...############
###....####.#...##.#############
################################
Elf HP: 1859
Goblin HP: 3847
Round #10
################################
#################.....##########
#################..#.###########
#################.........######
##################......########
#################....###########
###############...#..###########
###############........G######## (G 200 3)
############...G.......G######## (G 200 3) (G 200 3)
##########...........G..######## (G 200 3)
##########......#.....G...#..### (G 200 3)
##########...........G..G....### (G 200 3) (G 200 3)
#########.....#####...GGEGE...## (E 200 3) (G 128 3) (E 152 3) (G 200 3) (G 200 3)
######.......#######.....E.....# (E 200 3)
#######....G#########.........## (G 200 3)
#######..#..#########.....#.####
##########..#########..EG##..### (G 161 3) (E 200 3)
###########.#########.E.E.....## (E 170 3) (E 200 3)
#########...#########..........#
#########....#######.......##..#
######......G.#####...########## (G 200 3)
#...##.....G...........######### (G 176 3)
#...#.....GEG...###....######### (G 200 3) (E 137 3) (G 200 3)
#.........GGE...###...########## (E 200 3) (G 188 3) (G 200 3)
#................###############
##...............###############
###.#...G..........############# (G 200 3)
###....GE...........############ (E 170 3) (G 167 3)
###....E............############ (E 200 3)
###......#....#.#...############
###....####.#...##.#############
################################
Elf HP: 1829
Goblin HP: 3820
Round #11
################################
#################.....##########
#################..#.###########
#################.........######
##################......########
#################....###########
###############...#..###########
###############.......G.######## (G 200 3)
############....G.......######## (G 200 3)
##########..........G..G######## (G 200 3) (G 200 3)
##########......#......G..#..### (G 200 3)
##########..............G....### (G 200 3)
#########.....#####..G.GEGE...## (E 200 3) (G 119 3) (E 143 3) (G 200 3) (G 200 3)
######.......#######..G..E.....# (E 200 3) (G 200 3)
#######.....#########.........##
#######..#.G#########.....#.#### (G 200 3)
##########..#########.EEG##..### (G 155 3) (E 200 3) (E 200 3)
###########.#########...E.....## (E 167 3)
#########...#########..........#
#########....#######.......##..#
######.......G#####...########## (G 200 3)
#...##.....G...........######### (G 173 3)
#...#.....GEG...###....######### (G 200 3) (E 125 3) (G 200 3)
#..........GE...###...########## (E 200 3) (G 185 3)
#.........G......############### (G 200 3)
##...............###############
###.#...G..........############# (G 200 3)
###....GE...........############ (E 164 3) (G 161 3)
###....E............############ (E 200 3)
###......#....#.#...############
###....####.#...##.#############
################################
Elf HP: 1799
Goblin HP: 3793
Round #12
################################
#################.....##########
#################..#.###########
#################.........######
##################......########
#################....###########
###############...#..###########
###############......G..######## (G 200 3)
############.....G......######## (G 200 3)
##########............G.######## (G 200 3)
##########......#...G...G.#..### (G 200 3) (G 200 3)
##########..............G....### (G 200 3)
#########.....#####....GEGE...## (E 200 3) (G 110 3) (E 134 3) (G 200 3)
######.......#######.G.G.E.....# (E 200 3) (G 200 3) (G 200 3)
#######.....#########.........##
#######..#..#########.E...#.#### (E 200 3)
##########.G#########..EG##..### (G 149 3) (E 200 3) (G 200 3)
###########.#########...E.....## (E 164 3)
#########...#########..........#
#########....#######.......##..#
######........#####...##########
#...##.....G.G.........######### (G 200 3) (G 170 3)
#...#.....GEG...###....######### (G 200 3) (E 113 3) (G 200 3)
#..........GE...###...########## (E 200 3) (G 182 3)
#..........G.....############### (G 200 3)
##...............###############
###.#...G..........############# (G 200 3)
###....GE...........############ (E 158 3) (G 155 3)
###....E............############ (E 200 3)
###......#....#.#...############
###....####.#...##.#############
################################
Elf HP: 1769
Goblin HP: 3766
Round #13
################################
#################.....##########
#################..#.###########
#################.........######
##################......########
#################....###########
###############...#..###########
###############.........########
############......G..G..######## (G 200 3) (G 200 3)
##########..............########
##########......#....GG..G#..### (G 200 3) (G 200 3) (G 200 3)
##########..............G....### (G 200 3)
#########.....#####....GEGE...## (E 200 3) (G 101 3) (E 122 3) (G 200 3)
######.......#######..G.GE.....# (E 200 3) (G 200 3) (G 197 3)
#######.....#########.E.......## (E 200 3)
#######..#..#########.....#.####
##########..#########..EG##..### (G 143 3) (E 200 3)
###########G#########...E.....## (E 161 3) (G 200 3)
#########...#########..........#
#########....#######.......##..#
######........#####...##########
#...##.....G...........######### (G 167 3)
#...#.....GEGG..###....######### (G 200 3) (G 200 3) (E 101 3) (G 200 3)
#..........GE...###...########## (E 197 3) (G 179 3)
#...........G....############### (G 200 3)
##...............###############
###.#...G..........############# (G 200 3)
###....GE...........############ (E 152 3) (G 149 3)
###....E............############ (E 200 3)
###......#....#.#...############
###....####.#...##.#############
################################
Elf HP: 1733
Goblin HP: 3736
Round #14
################################
#################.....##########
#################..#.###########
#################.........######
##################......########
#################....###########
###############...#..###########
###############.........########
############.......GG...######## (G 200 3) (G 200 3)
##########..............########
##########......#.........#..###
##########...........GG.GG...### (G 200 3) (G 200 3) (G 200 3) (G 200 3)
#########.....#####....GEGE...## (E 200 3) (G 92 3) (E 110 3) (G 200 3)
######.......#######..G.GE.....# (E 200 3) (G 200 3) (G 194 3)
#######.....#########.E.......## (E 197 3)
#######..#..#########.....#.####
##########..#########..EG##..### (G 137 3) (E 200 3)
###########.#########...E.....## (E 158 3)
#########..G#########..........# (G 200 3)
#########....#######.......##..#
######........#####...##########
#...##.....G...........######### (G 164 3)
#...#.....GEG...###....######### (G 200 3) (E 89 3) (G 200 3)
#..........GEG..###...########## (G 200 3) (E 191 3) (G 176 3)
#...........G....############### (G 200 3)
##...............###############
###.#...G..........############# (G 200 3)
###....GE...........############ (E 146 3) (G 143 3)
###....E............############ (E 200 3)
###......#....#.#...############
###....####.#...##.#############
################################
Elf HP: 1691
Goblin HP: 3706
Round #15
################################
#################.....##########
#################..#.###########
#################.........######
##################......########
#################....###########
###############...#..###########
###############.........########
############............########
##########.........GG...######## (G 200 3) (G 200 3)
##########......#.........#..###
##########...........G..G.G..### (G 200 3) (G 200 3) (G 200 3)
#########.....#####..G.GEGE...## (E 197 3) (G 83 3) (E 98 3) (G 200 3) (G 200 3)
######.......#######..G.GE.....# (E 200 3) (G 200 3) (G 191 3)
#######.....#########.E.......## (E 194 3)
#######..#..#########.....#.####
##########..#########..EG##..### (G 131 3) (E 200 3)
###########.#########...E.....## (E 155 3)
#########.G.#########..........# (G 200 3)
#########....#######.......##..#
######........#####...##########
#...##.....G...........######### (G 161 3)
#...#.....GEG...###....######### (G 200 3) (E 77 3) (G 200 3)
#..........GEG..###...########## (G 200 3) (E 185 3) (G 173 3)
#...........G....############### (G 200 3)
##...............###############
###.#...G..........############# (G 200 3)
###....GE...........############ (E 140 3) (G 137 3)
###....E............############ (E 200 3)
###......#....#.#...############
###....####.#...##.#############
################################
Elf HP: 1646
Goblin HP: 3676
Round #16
################################
#################.....##########
#################..#.###########
#################.........######
##################......########
#################....###########
###############...#..###########
###############.........########
############............########
##########..............########
##########......#..GG.....#..### (G 200 3) (G 200 3)
##########..........G...G.G..### (G 200 3) (G 200 3) (G 200 3)
#########.....#####....GEGE...## (E 194 3) (G 74 3) (E 86 3) (G 200 3)
######.......#######.GG.GE.....# (E 200 3) (G 200 3) (G 188 3) (G 200 3)
#######.....#########.E.......## (E 191 3)
#######..#..#########.....#.####
##########..#########..EG##..### (G 125 3) (E 200 3)
###########.#########...E.....## (E 152 3)
#########G..#########..........# (G 200 3)
#########....#######.......##..#
######........#####...##########
#...##.....G...........######### (G 158 3)
#...#.....GEG...###....######### (G 200 3) (E 65 3) (G 200 3)
#..........GEG..###...########## (G 200 3) (E 179 3) (G 170 3)
#...........G....############### (G 200 3)
##...............###############
###.#...G..........############# (G 200 3)
###....GE...........############ (E 134 3) (G 131 3)
###....E............############ (E 200 3)
###......#....#.#...############
###....####.#...##.#############
################################
Elf HP: 1601
Goblin HP: 3646
Round #17
################################
#################.....##########
#################..#.###########
#################.........######
##################......########
#################....###########
###############...#..###########
###############.........########
############............########
##########..............########
##########......#.GG......#..### (G 200 3) (G 200 3)
##########.........G....G.G..### (G 200 3) (G 200 3) (G 200 3)
#########.....#####....GEGE...## (E 191 3) (G 65 3) (E 74 3) (G 200 3)
######.......#######..G.GE.....# (E 200 3) (G 200 3) (G 185 3)
#######.....#########GE.......## (E 185 3) (G 200 3)
#######..#..#########.....#.####
##########..#########..EG##..### (G 119 3) (E 200 3)
###########.#########...E.....## (E 149 3)
#########...#########..........#
#########G...#######.......##..# (G 200 3)
######........#####...##########
#...##.....G...........######### (G 155 3)
#...#.....GEG...###....######### (G 200 3) (E 53 3) (G 200 3)
#..........GEG..###...########## (G 200 3) (E 173 3) (G 167 3)
#...........G....############### (G 200 3)
##...............###############
###.#...G..........############# (G 200 3)
###....GE...........############ (E 128 3) (G 125 3)
###....E............############ (E 200 3)
###......#....#.#...############
###....####.#...##.#############
################################
Elf HP: 1553
Goblin HP: 3616
Round #18
################################
#################.....##########
#################..#.###########
#################.........######
##################......########
#################....###########
###############...#..###########
###############.........########
############............########
##########..............########
##########......#GG.......#..### (G 200 3) (G 200 3)
##########........G.....G.G..### (G 200 3) (G 200 3) (G 200 3)
#########.....#####....GEGE...## (E 188 3) (G 56 3) (E 62 3) (G 200 3)
######.......#######..G.GE.....# (E 200 3) (G 200 3) (G 182 3)
#######.....#########GE.......## (E 179 3) (G 200 3)
#######..#..#########.....#.####
##########..#########..EG##..### (G 113 3) (E 200 3)
###########.#########...E.....## (E 146 3)
#########...#########..........#
#########....#######.......##..#
######...G....#####...########## (G 200 3)
#...##.....G...........######### (G 152 3)
#...#.....GEG...###....######### (G 200 3) (E 41 3) (G 200 3)
#..........GEG..###...########## (G 200 3) (E 167 3) (G 164 3)
#...........G....############### (G 200 3)
##...............###############
###.#...G..........############# (G 200 3)
###....GE...........############ (E 122 3) (G 119 3)
###....E............############ (E 200 3)
###......#....#.#...############
###....####.#...##.#############
################################
Elf HP: 1505
Goblin HP: 3586
Round #19
################################
#################.....##########
#################..#.###########
#################.........######
##################......########
#################....###########
###############...#..###########
###############.........########
############............########
##########........G.....######## (G 200 3)
##########......#.G.......#..### (G 200 3)
##########.......G......G.G..### (G 200 3) (G 200 3) (G 200 3)
#########.....#####....GEGE...## (E 185 3) (G 47 3) (E 50 3) (G 200 3)
######.......#######..G.GE.....# (E 200 3) (G 200 3) (G 179 3)
#######.....#########GE.......## (E 173 3) (G 200 3)
#######..#..#########.....#.####
##########..#########..EG##..### (G 107 3) (E 200 3)
###########.#########...E.....## (E 143 3)
#########...#########..........#
#########....#######.......##..#
######........#####...##########
#...##...G.G...........######### (G 149 3) (G 200 3)
#...#.....GEG...###....######### (G 200 3) (E 29 3) (G 200 3)
#..........GEG..###...########## (G 200 3) (E 161 3) (G 161 3)
#...........G....############### (G 200 3)
##...............###############
###.#...G..........############# (G 200 3)
###....GE...........############ (E 116 3) (G 113 3)
###....E............############ (E 200 3)
###......#....#.#...############
###....####.#...##.#############
################################
Elf HP: 1457
Goblin HP: 3556
Round #20
################################
#################.....##########
#################..#.###########
#################.........######
##################......########
#################....###########
###############...#..###########
###############.........########
############............########
##########.......GG.....######## (G 200 3) (G 200 3)
##########......#.........#..###
##########......G.......G.G..### (G 200 3) (G 200 3) (G 200 3)
#########.....#####....GEGE...## (E 182 3) (G 38 3) (E 38 3) (G 200 3)
######.......#######..G.GE.....# (E 200 3) (G 200 3) (G 176 3)
#######.....#########GE.......## (E 167 3) (G 200 3)
#######..#..#########.....#.####
##########..#########..EG##..### (G 101 3) (E 200 3)
###########.#########...E.....## (E 140 3)
#########...#########..........#
#########....#######.......##..#
######........#####...##########
#...##.....G...........######### (G 146 3)
#...#....GGEG...###....######### (G 200 3) (E 17 3) (G 200 3) (G 200 3)
#..........GEG..###...########## (G 200 3) (E 155 3) (G 158 3)
#...........G....############### (G 200 3)
##...............###############
###.#...G..........############# (G 200 3)
###....GE...........############ (E 110 3) (G 107 3)
###....E............############ (E 200 3)
###......#....#.#...############
###....####.#...##.#############
################################
Elf HP: 1409
Goblin HP: 3526
Round #21
################################
#################.....##########
#################..#.###########
#################.........######
##################......########
#################....###########
###############...#..###########
###############.........########
############......G.....######## (G 200 3)
##########......G.......######## (G 200 3)
##########......#.........#..###
##########.....G........G.G..### (G 200 3) (G 200 3) (G 200 3)
#########.....#####....GEGE...## (E 179 3) (G 29 3) (E 26 3) (G 200 3)
######.......#######..G.GE.....# (E 200 3) (G 200 3) (G 173 3)
#######.....#########GE.......## (E 161 3) (G 200 3)
#######..#..#########.....#.####
##########..#########..EG##..### (G 95 3) (E 200 3)
###########.#########...E.....## (E 137 3)
#########...#########..........#
#########....#######.......##..#
######........#####...##########
#...##.....G...........######### (G 143 3)
#...#.....GEG...###....######### (G 200 3) (E 5 3) (G 200 3)
#........G.GEG..###...########## (G 200 3) (E 149 3) (G 155 3) (G 200 3)
#...........G....############### (G 200 3)
##...............###############
###.#...G..........############# (G 200 3)
###....GE...........############ (E 104 3) (G 101 3)
###....E............############ (E 200 3)
###......#....#.#...############
###....####.#...##.#############
################################
Elf HP: 1361
Goblin HP: 3496
Round #22
################################
#################.....##########
#################..#.###########
#################.........######
##################......########
#################....###########
###############...#..###########
###############.........########
############.....G......######## (G 200 3)
##########.....G........######## (G 200 3)
##########......#.........#..###
##########....G.........G.G..### (G 200 3) (G 200 3) (G 200 3)
#########.....#####....GEGE...## (E 176 3) (G 20 3) (E 14 3) (G 200 3)
######.......#######..G.GE.....# (E 200 3) (G 200 3) (G 170 3)
#######.....#########GE.......## (E 155 3) (G 200 3)
#######..#..#########.....#.####
##########..#########..EG##..### (G 89 3) (E 200 3)
###########.#########...E.....## (E 134 3)
#########...#########..........#
#########....#######.......##..#
######........#####...##########
#...##.....G...........######### (G 143 3)
#...#.....G.G...###....######### (G 200 3) (G 200 3)
#..........GEG..###...########## (G 200 3) (E 137 3) (G 152 3)
#........G..G....############### (G 200 3) (G 200 3)
##...............###############
###.#...G..........############# (G 200 3)
###....GE...........############ (E 98 3) (G 95 3)
###....E............############ (E 200 3)
###......#....#.#...############
###....####.#...##.#############
################################
Elf HP: 1314
Goblin HP: 3469
Round #23
################################
#################.....##########
#################..#.###########
#################.........######
##################......########
#################....###########
###############...#..###########
###############.........########
############....G.......######## (G 200 3)
##########....G.........######## (G 200 3)
##########......#.........#..###
##########...G..........G.G..### (G 200 3) (G 200 3) (G 200 3)
#########.....#####....GEGE...## (E 173 3) (G 11 3) (E 2 3) (G 200 3)
######.......#######..G.GE.....# (E 200 3) (G 200 3) (G 167 3)
#######.....#########GE.......## (E 149 3) (G 200 3)
#######..#..#########.....#.####
##########..#########..EG##..### (G 83 3) (E 200 3)
###########.#########...E.....## (E 131 3)
#########...#########..........#
#########....#######.......##..#
######........#####...##########
#...##....G............######### (G 143 3)
#...#.......G...###....######### (G 200 3)
#.........GGEG..###...########## (G 200 3) (E 125 3) (G 149 3) (G 200 3)
#...........G....############### (G 200 3)
##.......G.......############### (G 200 3)
###.#...G..........############# (G 200 3)
###....GE...........############ (E 92 3) (G 89 3)
###....E............############ (E 200 3)
###......#....#.#...############
###....####.#...##.#############
################################
Elf HP: 1272
Goblin HP: 3442
Round #24
################################
#################.....##########
#################..#.###########
#################.........######
##################......########
#################....###########
###############...#..###########
###############.........########
############...G........######## (G 200 3)
##########...G..........######## (G 200 3)
##########......#.........#..###
##########..G...........G.G..### (G 200 3) (G 200 3) (G 200 3)
#########.....#####......GE...## (E 167 3) (G 5 3)
######.......#######..GGGE.....# (E 197 3) (G 200 3) (G 200 3) (G 164 3)
#######.....#########GE.......## (E 143 3) (G 200 3)
#######..#..#########.....#.####
##########..#########..EG##..### (G 77 3) (E 200 3)
###########.#########...E.....## (E 128 3)
#########...#########..........#
#########....#######.......##..#
######........#####...##########
#...##...G.............######### (G 143 3)
#...#.......G...###....######### (G 200 3)
#..........GEG..###...########## (G 200 3) (E 113 3) (G 146 3)
#.........G.G....############### (G 200 3) (G 200 3)
##...............###############
###.#...GG.........############# (G 200 3) (G 200 3)
###....GE...........############ (E 86 3) (G 83 3)
###....E............############ (E 200 3)
###......#....#.#...############
###....####.#...##.#############
################################
Elf HP: 1234
Goblin HP: 3418
Round #25
################################
#################.....##########
#################..#.###########
#################.........######
##################......########
#################....###########
###############...#..###########
###############.........########
############..G.........######## (G 200 3)
##########..G...........######## (G 200 3)
##########......#.........#..###
##########.G...........G..G..### (G 200 3) (G 200 3) (G 200 3)
#########.....#####.......E...## (E 161 3)
######.......#######..G.GE.....# (E 194 3) (G 200 3) (G 161 3)
#######.....#########GEG......## (G 200 3) (E 134 3) (G 200 3)
#######..#..#########.....#.####
##########..#########..EG##..### (G 71 3) (E 200 3)
###########.#########...E.....## (E 125 3)
#########...#########..........#
#########....#######.......##..#
######........#####...##########
#...##.................#########
#...#....G..G...###....######### (G 200 3) (G 143 3)
#..........GEG..###...########## (G 200 3) (E 101 3) (G 143 3)
#...........G....############### (G 200 3)
##........G......############### (G 200 3)
###.#...G..........############# (G 200 3)
###....GEG..........############ (G 200 3) (E 77 3) (G 77 3)
###....E............############ (E 200 3)
###......#....#.#...############
###....####.#...##.#############
################################
Elf HP: 1192
Goblin HP: 3395
Round #26
################################
#################.....##########
#################..#.###########
#################.........######
##################......########
#################....###########
###############...#..###########
###############.........########
############...G........######## (G 200 3)
##########...G..........######## (G 200 3)
##########......#.........#..###
##########..G...........G.G..### (G 197 3) (G 200 3) (G 200 3)
#########.....#####.......E...## (E 158 3)
######.......#######..G.GE.....# (E 191 3) (G 197 3) (G 158 3)
#######.....#########GEG......## (G 200 3) (E 125 3) (G 200 3)
#######..#..#########.....#.####
##########..#########..EG##..### (G 65 3) (E 200 3)
###########.#########...E.....## (E 122 3)
#########...#########..........#
#########....#######.......##..#
######........#####...##########
#...##.................#########
#...#...G...G...###....######### (G 200 3) (G 143 3)
#..........GEG..###...########## (G 200 3) (E 89 3) (G 140 3)
#...........G....############### (G 200 3)
##...............###############
###.#...G.G........############# (G 200 3) (G 200 3)
###....GEG..........############ (G 200 3) (E 68 3) (G 71 3)
###....E............############ (E 200 3)
###......#....#.#...############
###....####.#...##.#############
################################
Elf HP: 1153
Goblin HP: 3371
Round #27
################################
#################.....##########
#################..#.###########
#################.........######
##################......########
#################....###########
###############...#..###########
###############.........########
############....G.......######## (G 200 3)
##########....G.........######## (G 200 3)
##########......#.........#..###
##########...G...........GG..### (G 194 3) (G 200 3) (G 200 3)
#########.....#####.......E...## (E 155 3)
######.......#######..G.GE.....# (E 188 3) (G 194 3) (G 155 3)
#######.....#########GEG......## (G 200 3) (E 116 3) (G 200 3)
#######..#..#########.....#.####
##########..#########..EG##..### (G 59 3) (E 200 3)
###########.#########...E.....## (E 119 3)
#########...#########..........#
#########....#######.......##..#
######........#####...##########
#...##.................#########
#...#..G....G...###....######### (G 200 3) (G 143 3)
#..........GEG..###...########## (G 200 3) (E 77 3) (G 137 3)
#...........G....############### (G 200 3)
##...............###############
###.#...G..........############# (G 200 3)
###....GEGG.........############ (G 200 3) (G 200 3) (E 59 3) (G 65 3)
###....E............############ (E 200 3)
###......#....#.#...############
###....####.#...##.#############
################################
Elf HP: 1114
Goblin HP: 3347
Round #28
################################
#################.....##########
#################..#.###########
#################.........######
##################......########
#################....###########
###############...#..###########
###############.........########
############.....G......######## (G 200 3)
##########.....G........######## (G 200 3)
##########......#.........#..###
##########....G...........G..### (G 191 3) (G 200 3)
#########.....#####......GE...## (E 149 3) (G 200 3)
######.......#######..G.GE.....# (E 185 3) (G 191 3) (G 152 3)
#######.....#########GEG......## (G 200 3) (E 107 3) (G 200 3)
#######..#..#########.....#.####
##########..#########..EG##..### (G 53 3) (E 200 3)
###########.#########...E.....## (E 116 3)
#########...#########..........#
#########....#######.......##..#
######........#####...##########
#...##.................#########
#...#.G.....G...###....######### (G 200 3) (G 143 3)
#..........GEG..###...########## (G 200 3) (E 65 3) (G 134 3)
#...........G....############### (G 200 3)
##...............###############
###.#...G..........############# (G 200 3)
###....GEG..........############ (G 200 3) (E 50 3) (G 59 3)
###....E..G.........############ (G 200 3) (E 200 3)
###......#....#.#...############
###....####.#...##.#############
################################
Elf HP: 1072
Goblin HP: 3323
Round #29
################################
#################.....##########
#################..#.###########
#################.........######
##################......########
#################....###########
###############...#..###########
###############.........########
############....G.......######## (G 200 3)
##########....G.........######## (G 200 3)
##########......#.........#..###
##########...G............G..### (G 188 3) (G 200 3)
#########.....#####......GE...## (E 143 3) (G 200 3)
######.......#######..G.GE.....# (E 182 3) (G 188 3) (G 149 3)
#######.....#########GEG......## (G 200 3) (E 98 3) (G 200 3)
#######..#..#########.....#.####
##########..#########..EG##..### (G 47 3) (E 200 3)
###########.#########...E.....## (E 113 3)
#########...#########..........#
#########....#######.......##..#
######........#####...##########
#...##.................#########
#...#.......G...###....######### (G 200 3)
#.....G....GEG..###...########## (G 200 3) (E 53 3) (G 131 3) (G 143 3)
#...........G....############### (G 200 3)
##...............###############
###.#...G..........############# (G 200 3)
###....GEG..........############ (G 200 3) (E 41 3) (G 53 3)
###....E.G..........############ (G 200 3) (E 200 3)
###......#....#.#...############
###....####.#...##.#############
################################
Elf HP: 1030
Goblin HP: 3299
Round #30
################################
#################.....##########
#################..#.###########
#################.........######
##################......########
#################....###########
###############...#..###########
###############.........########
############...G........######## (G 200 3)
##########...G..........######## (G 200 3)
##########......#.........#..###
##########..G.............G..### (G 185 3) (G 200 3)
#########.....#####......GE...## (E 137 3) (G 200 3)
######.......#######..G.GE.....# (E 179 3) (G 185 3) (G 146 3)
#######.....#########GEG......## (G 200 3) (E 89 3) (G 200 3)
#######..#..#########.....#.####
##########..#########..EG##..### (G 41 3) (E 200 3)
###########.#########...E.....## (E 110 3)
#########...#########..........#
#########....#######.......##..#
######........#####...##########
#...##.................#########
#...#.......G...###....######### (G 200 3)
#..........GEG..###...########## (G 200 3) (E 41 3) (G 128 3)
#.....G.....G....############### (G 200 3) (G 143 3)
##...............###############
###.#...G..........############# (G 200 3)
###....GEG..........############ (G 200 3) (E 29 3) (G 47 3)
###....EG...........############ (G 200 3) (E 200 3)
###......#....#.#...############
###....####.#...##.#############
################################
Elf HP: 985
Goblin HP: 3275
Round #31
################################
#################.....##########
#################..#.###########
#################.........######
##################......########
#################....###########
###############...#..###########
###############.........########
############..G.........######## (G 200 3)
##########..G...........######## (G 200 3)
##########......#.........#..###
##########.G..............G..### (G 182 3) (G 200 3)
#########.....#####......GE...## (E 131 3) (G 200 3)
######.......#######..G.GE.....# (E 176 3) (G 182 3) (G 143 3)
#######.....#########GEG......## (G 200 3) (E 80 3) (G 200 3)
#######..#..#########.....#.####
##########..#########..EG##..### (G 35 3) (E 200 3)
###########.#########...E.....## (E 107 3)
#########...#########..........#
#########....#######.......##..#
######........#####...##########
#...##.................#########
#...#.......G...###....######### (G 200 3)
#..........GEG..###...########## (G 200 3) (E 29 3) (G 125 3)
#...........G....############### (G 200 3)
##....G..........############### (G 143 3)
###.#...G..........############# (G 200 3)
###....GEG..........############ (G 200 3) (E 17 3) (G 41 3)
###....EG...........############ (G 200 3) (E 200 3)
###......#....#.#...############
###....####.#...##.#############
################################
Elf HP: 940
Goblin HP: 3251
Round #32
################################
#################.....##########
#################..#.###########
#################.........######
##################......########
#################....###########
###############...#..###########
###############.........########
############.G..........######## (G 200 3)
##########..............########
##########..G...#.........#..### (G 200 3)
##########................G..### (G 179 3)
#########..G..#####......GE...## (E 125 3) (G 200 3) (G 200 3)
######.......#######..G.GE.....# (E 173 3) (G 179 3) (G 140 3)
#######.....#########GEG......## (G 200 3) (E 71 3) (G 200 3)
#######..#..#########.....#.####
##########..#########..EG##..### (G 29 3) (E 200 3)
###########.#########...E.....## (E 104 3)
#########...#########..........#
#########....#######.......##..#
######........#####...##########
#...##.................#########
#...#.......G...###....######### (G 200 3)
#..........GEG..###...########## (G 200 3) (E 17 3) (G 122 3)
#...........G....############### (G 200 3)
##...............###############
###.#.G.G..........############# (G 200 3) (G 143 3)
###....GEG..........############ (G 200 3) (E 5 3) (G 35 3)
###....EG...........############ (G 200 3) (E 200 3)
###......#....#.#...############
###....####.#...##.#############
################################
Elf HP: 895
Goblin HP: 3227
Round #33
################################
#################.....##########
#################..#.###########
#################.........######
##################......########
#################....###########
###############...#..###########
###############.........########
############............########
##########...G..........######## (G 200 3)
##########......#.........#..###
##########..G.............G..### (G 176 3) (G 200 3)
#########.....#####......GE...## (E 119 3) (G 200 3)
######.....G.#######..G.GE.....# (E 170 3) (G 176 3) (G 137 3) (G 200 3)
#######.....#########GEG......## (G 200 3) (E 62 3) (G 200 3)
#######..#..#########.....#.####
##########..#########..EG##..### (G 23 3) (E 200 3)
###########.#########...E.....## (E 101 3)
#########...#########..........#
#########....#######.......##..#
######........#####...##########
#...##.................#########
#...#.......G...###....######### (G 200 3)
#..........GEG..###...########## (G 200 3) (E 5 3) (G 119 3)
#...........G....############### (G 200 3)
##...............###############
###.#...GG.........############# (G 200 3) (G 200 3)
###...GG............############ (G 32 3) (G 143 3)
###....EG...........############ (G 200 3) (E 197 3)
###......#....#.#...############
###....####.#...##.#############
################################
Elf HP: 854
Goblin HP: 3206
Round #34
################################
#################.....##########
#################..#.###########
#################.........######
##################......########
#################....###########
###############...#..###########
###############.........########
############............########
##########..G...........######## (G 200 3)
##########......#.........#..###
##########.G..............G..### (G 173 3) (G 200 3)
#########.....#####......GE...## (E 113 3) (G 200 3)
######.......#######..G.GE.....# (E 167 3) (G 173 3) (G 134 3)
#######....G#########GEG......## (G 200 3) (E 53 3) (G 200 3) (G 200 3)
#######..#..#########.....#.####
##########..#########..EG##..### (G 17 3) (E 200 3)
###########.#########...E.....## (E 98 3)
#########...#########..........#
#########....#######.......##..#
######........#####...##########
#...##.................#########
#...#.......G...###....######### (G 200 3)
#..........G....###...########## (G 119 3)
#..........G.G...############### (G 200 3) (G 200 3)
##.......G.......############### (G 200 3)
###.#..G...........############# (G 200 3)
###....G............############ (G 29 3)
###...GEG...........############ (G 200 3) (E 188 3) (G 143 3)
###......#....#.#...############
###....####.#...##.#############
################################
Elf HP: 819
Goblin HP: 3188
Round #35
################################
#################.....##########
#################..#.###########
#################.........######
##################......########
#################....###########
###############...#..###########
###############.........########
############............########
##########.G............######## (G 200 3)
##########......#.........#..###
##########G...............G..### (G 170 3) (G 200 3)
#########.....#####......GE...## (E 107 3) (G 200 3)
######.......#######..G.GE.....# (E 164 3) (G 170 3) (G 131 3)
#######.....#########GEG......## (G 200 3) (E 44 3) (G 200 3)
#######..#.G#########.....#.#### (G 200 3)
##########..#########..EG##..### (G 11 3) (E 200 3)
###########.#########...E.....## (E 95 3)
#########...#########..........#
#########....#######.......##..#
######........#####...##########
#...##......G..........######### (G 200 3)
#...#...........###....#########
#.........G..G..###...########## (G 200 3) (G 119 3)
#.........G......############### (G 200 3)
##......G........############### (G 200 3)
###.#.G............############# (G 200 3)
###....G............############ (G 26 3)
###...GEG...........############ (G 200 3) (E 179 3) (G 143 3)
###......#....#.#...############
###....####.#...##.#############
################################
Elf HP: 789
Goblin HP: 3170
Round #36
################################
#################.....##########
#################..#.###########
#################.........######
##################......########
#################....###########
###############...#..###########
###############.........########
############............########
##########..............########
##########.G....#.........#..### (G 200 3)
##########................G..### (G 167 3)
#########.G...#####......GE...## (E 101 3) (G 200 3) (G 200 3)
######.......#######..G.GE.....# (E 161 3) (G 167 3) (G 128 3)
#######.....#########GEG......## (G 200 3) (E 35 3) (G 200 3)
#######..#..#########.....#.####
##########.G#########..EG##..### (G 5 3) (E 200 3) (G 200 3)
###########.#########...E.....## (E 92 3)
#########...#########..........#
#########....#######.......##..#
######........#####...##########
#...##.......G.........######### (G 200 3)
#...#........G..###....######### (G 200 3)
#........G......###...########## (G 119 3)
#........G.......############### (G 200 3)
##.....G.........############### (G 200 3)
###.#G.............############# (G 200 3)
###....G............############ (G 23 3)
###...GEG...........############ (G 200 3) (E 170 3) (G 143 3)
###......#....#.#...############
###....####.#...##.#############
################################
Elf HP: 759
Goblin HP: 3152
Round #37
################################
#################.....##########
#################..#.###########
#################.........######
##################......########
#################....###########
###############...#..###########
###############.........########
############............########
##########..............########
##########.G....#.........#..### (G 200 3)
##########................G..### (G 164 3)
#########.G...#####......GE...## (E 95 3) (G 200 3) (G 200 3)
######.......#######..G.GE.....# (E 158 3) (G 164 3) (G 125 3)
#######.....#########GEG......## (G 200 3) (E 26 3) (G 200 3)
#######..#..#########.....#.####
##########..#########..E.##..### (E 200 3)
###########G#########...E.....## (E 89 3) (G 200 3)
#########...#########..........#
#########....#######.......##..#
######........#####...##########
#...##........G........######### (G 200 3)
#...#.........G.###....######### (G 200 3)
#.......G.......###...########## (G 119 3)
#.......G........############### (G 200 3)
##....G..........############### (G 200 3)
###.#..............#############
###..G.G............############ (G 20 3) (G 200 3)
###...GEG...........############ (G 200 3) (E 161 3) (G 143 3)
###......#....#.#...############
###....####.#...##.#############
################################
Elf HP: 729
Goblin HP: 3135
Round #38
################################
#################.....##########
#################..#.###########
#################.........######
##################......########
#################....###########
###############...#..###########
###############.........########
############............########
##########..............########
##########.G....#.........#..### (G 200 3)
##########................G..### (G 161 3)
#########.G...#####......GE...## (E 89 3) (G 200 3) (G 200 3)
######.......#######..G.GE.....# (E 155 3) (G 161 3) (G 122 3)
#######.....#########GEG......## (G 197 3) (E 17 3) (G 200 3)
#######..#..#########..E..#.#### (E 200 3)
##########..#########...E##..### (E 89 3)
###########.#########.........##
#########..G#########..........# (G 200 3)
#########....#######.......##..#
######........#####...##########
#...##.........G.......######### (G 200 3)
#...#........G..###....######### (G 200 3)
#......G........###...########## (G 119 3)
#......G.........############### (G 200 3)
##...G...........############### (G 200 3)
###.#..............#############
###....G............############ (G 17 3)
###..GGEG...........############ (G 200 3) (E 152 3) (G 143 3) (G 200 3)
###......#....#.#...############
###....####.#...##.#############
################################
Elf HP: 702
Goblin HP: 3120
Round #39
################################
#################.....##########
#################..#.###########
#################.........######
##################......########
#################....###########
###############...#..###########
###############.........########
############............########
##########..............########
##########.G....#.........#..### (G 200 3)
##########................G..### (G 158 3)
#########.G...#####......GE...## (E 83 3) (G 200 3) (G 200 3)
######.......#######..G.GE.....# (E 152 3) (G 158 3) (G 119 3)
#######.....#########GEG......## (G 194 3) (E 8 3) (G 200 3)
#######..#..#########..EE.#.#### (E 89 3) (E 200 3)
##########..#########....##..###
###########.#########.........##
#########.G.#########..........# (G 200 3)
#########....#######.......##..#
######........#####...##########
#...##..........G......######### (G 200 3)
#...#.......G...###....######### (G 200 3)
#.....G.........###...########## (G 119 3)
#.....G..........############### (G 200 3)
##...............###############
###.#G.............############# (G 200 3)
###....G............############ (G 14 3)
###...GEG...........############ (G 200 3) (E 143 3) (G 143 3)
###..G...#....#.#...############ (G 200 3)
###....####.#...##.#############
################################
Elf HP: 675
Goblin HP: 3105
Round #40
################################
#################.....##########
#################..#.###########
#################.........######
##################......########
#################....###########
###############...#..###########
###############.........########
############............########
##########..............########
##########......#.........#..###
##########.G..............G..### (G 155 3) (G 200 3)
#########..G..#####......GE...## (E 77 3) (G 200 3) (G 200 3)
######.......#######..G.GE.....# (E 149 3) (G 152 3) (G 116 3)
#######.....#########G.GE.....## (E 89 3) (G 191 3) (G 200 3)
#######..#..#########..E..#.#### (E 200 3)
##########..#########....##..###
###########.#########.........##
#########G..#########..........# (G 200 3)
#########....#######.......##..#
######........#####...##########
#...##...........G.....######### (G 200 3)
#...#......G....###....######### (G 200 3)
#....G..........###...########## (G 119 3)
#................###############
##....G..........############### (G 200 3)
###.#..............#############
###..G.G............############ (G 11 3) (G 200 3)
###...GEG...........############ (G 200 3) (E 134 3) (G 143 3)
###...G..#....#.#...############ (G 200 3)
###....####.#...##.#############
################################
Elf HP: 649
Goblin HP: 3087
Round #41
################################
#################.....##########
#################..#.###########
#################.........######
##################......########
#################....###########
###############...#..###########
###############.........########
############............########
##########..............########
##########......#.........#..###
##########.G..............G..### (G 152 3) (G 200 3)
#########..G..#####......GE...## (E 71 3) (G 200 3) (G 200 3)
######.......#######....GE.....# (E 149 3) (G 146 3)
#######.....#########.GGE.....## (E 83 3) (G 188 3) (G 116 3)
#######..#..#########G.E..#.#### (E 200 3) (G 200 3)
##########..#########....##..###
###########.#########.........##
#########G..#########..........# (G 200 3)
#########....#######.......##..#
######........#####...##########
#...##............G....######### (G 200 3)
#...#......G....###....######### (G 200 3)
#....G..........###...########## (G 119 3)
#................###############
##....G..........############### (G 200 3)
###.#..............#############
###..G.G............############ (G 8 3) (G 200 3)
###...GEG...........############ (G 200 3) (E 122 3) (G 143 3)
###....G.#....#.#...############ (G 200 3)
###....####.#...##.#############
################################
Elf HP: 625
Goblin HP: 3072
Round #42
################################
#################.....##########
#################..#.###########
#################.........######
##################......########
#################....###########
###############...#..###########
###############.........########
############............########
##########..............########
##########......#.........#..###
##########.G..............G..### (G 149 3) (G 200 3)
#########..G..#####......GE...## (E 65 3) (G 200 3) (G 200 3)
######.......#######....GE.....# (E 149 3) (G 140 3)
#######.....#########..GE.....## (E 77 3) (G 188 3)
#######..#..#########.GE..#.#### (E 197 3) (G 113 3)
##########..#########G...##..### (G 200 3)
###########.#########.........##
#########G..#########..........# (G 200 3)
#########....#######.......##..#
######........#####...##########
#...##.............G...######### (G 200 3)
#...#......G....###....######### (G 200 3)
#....G..........###...########## (G 119 3)
#................###############
##....G..........############### (G 200 3)
###.#..............#############
###..G.G............############ (G 5 3) (G 200 3)
###...GEG...........############ (G 200 3) (E 110 3) (G 143 3)
###....G.#....#.#...############ (G 200 3)
###....####.#...##.#############
################################
Elf HP: 598
Goblin HP: 3057
Round #43
################################
#################.....##########
#################..#.###########
#################.........######
##################......########
#################....###########
###############...#..###########
###############.........########
############............########
##########..............########
##########......#.........#..###
##########.G..............G..### (G 146 3) (G 200 3)
#########..G..#####......GE...## (E 59 3) (G 200 3) (G 200 3)
######.......#######....GE.....# (E 149 3) (G 134 3)
#######.....#########..GE.....## (E 71 3) (G 188 3)
#######..#..#########.GE..#.#### (E 194 3) (G 110 3)
##########..#########.G..##..### (G 200 3)
###########.#########.........##
#########.G.#########..........# (G 200 3)
#########....#######.......##..#
######........#####G..########## (G 200 3)
#...##.....G...........######### (G 200 3)
#...#G..........###....######### (G 119 3)
#...............###...##########
#.....G..........############### (G 200 3)
##...............###############
###.#G.............############# (G 200 3)
###....G............############ (G 2 3)
###...GEG...........############ (G 200 3) (E 98 3) (G 143 3)
###....G.#....#.#...############ (G 200 3)
###....####.#...##.#############
################################
Elf HP: 571
Goblin HP: 3042
Round #44
################################
#################.....##########
#################..#.###########
#################.........######
##################......########
#################....###########
###############...#..###########
###############.........########
############............########
##########..............########
##########......#.........#..###
##########..G.............G..### (G 143 3) (G 200 3)
#########...G.#####......GE...## (E 53 3) (G 200 3) (G 200 3)
######.......#######....GE.....# (E 149 3) (G 128 3)
#######.....#########..GE.....## (E 65 3) (G 188 3)
#######..#..#########.GE..#.#### (E 188 3) (G 107 3)
##########..#########..G.##..### (G 200 3)
###########.#########.........##
#########..G#########..........# (G 200 3)
#########....#######.......##..#
######........#####.G.########## (G 200 3)
#...##......G..........######### (G 200 3)
#...#.G.........###....######### (G 119 3)
#.....G.........###...########## (G 200 3)
#................###############
##...G...........############### (G 200 3)
###.#..............#############
###.................############
###...GEG...........############ (G 200 3) (E 86 3) (G 143 3)
###....G.#....#.#...############ (G 200 3)
###....####.#...##.#############
################################
Elf HP: 541
Goblin HP: 3028
Round #45
################################
#################.....##########
#################..#.###########
#################.........######
##################......########
#################....###########
###############...#..###########
###############.........########
############............########
##########..............########
##########......#.........#..###
##########..GG............G..### (G 140 3) (G 200 3) (G 200 3)
#########.....#####......GE...## (E 47 3) (G 200 3)
######.......#######....GE.....# (E 149 3) (G 122 3)
#######.....#########..GE.....## (E 59 3) (G 188 3)
#######..#..#########.GE..#.#### (E 182 3) (G 104 3)
##########..#########..G.##..### (G 200 3)
###########.#########.........##
#########.G.#########..........# (G 200 3)
#########....#######G......##..# (G 200 3)
######........#####...##########
#...##.....G...........######### (G 200 3)
#...#..G........###....######### (G 119 3)
#......G........###...########## (G 200 3)
#................###############
##....G..........############### (G 200 3)
###.#..............#############
###.................############
###...GEG...........############ (G 200 3) (E 77 3) (G 140 3)
###....G.#....#.#...############ (G 200 3)
###....####.#...##.#############
################################
Elf HP: 514
Goblin HP: 3013
Round #46
################################
#################.....##########
#################..#.###########
#################.........######
##################......########
#################....###########
###############...#..###########
###############.........########
############............########
##########..............########
##########......#.........#..###
##########.G..G...........G..### (G 137 3) (G 200 3) (G 200 3)
#########.....#####......GE...## (E 41 3) (G 200 3)
######.......#######....GE.....# (E 149 3) (G 116 3)
#######.....#########..GE.....## (E 53 3) (G 188 3)
#######..#..#########.GE..#.#### (E 176 3) (G 101 3)
##########..#########..G.##..### (G 200 3)
###########.#########.........##
#########G..#########..........# (G 200 3)
#########....#######.G.....##..# (G 200 3)
######........#####...##########
#...##....G............######### (G 200 3)
#...#.G.........###....######### (G 119 3)
#...............###...##########
#......G.........############### (G 200 3)
##.....G.........############### (G 200 3)
###.#..............#############
###.................############
###...GEG...........############ (G 200 3) (E 68 3) (G 137 3)
###....G.#....#.#...############ (G 200 3)
###....####.#...##.#############
################################
Elf HP: 487
Goblin HP: 2998
Round #47
################################
#################.....##########
#################..#.###########
#################.........######
##################......########
#################....###########
###############...#..###########
###############.........########
############............########
##########..............########
##########......#.........#..###
##########.....G..........G..### (G 134 3) (G 200 3)
#########..G..#####......GE...## (E 35 3) (G 200 3) (G 200 3)
######.......#######....GE.....# (E 149 3) (G 110 3)
#######.....#########..GE.....## (E 47 3) (G 188 3)
#######..#..#########.GE..#.#### (E 170 3) (G 98 3)
##########..#########..G.##..### (G 200 3)
###########.#########.........##
#########...#########G.........# (G 200 3)
#########G...#######.......##..# (G 200 3)
######........#####...##########
#...##...G.............######### (G 200 3)
#...#...........###....#########
#.....G.........###...########## (G 119 3)
#.....G..........############### (G 200 3)
##...............###############
###.#..G...........############# (G 200 3)
###.................############
###...GEG...........############ (G 200 3) (E 59 3) (G 134 3)
###....G.#....#.#...############ (G 200 3)
###....####.#...##.#############
################################
Elf HP: 460
Goblin HP: 2983
Round #48
################################
#################.....##########
#################..#.###########
#################.........######
##################......########
#################....###########
###############...#..###########
###############.........########
############............########
##########..............########
##########......#.........#..###
##########......G.........G..### (G 131 3) (G 200 3)
#########.....#####......GE...## (E 29 3) (G 200 3)
######.....G.#######....GE.....# (E 149 3) (G 104 3) (G 200 3)
#######.....#########..GE.....## (E 41 3) (G 188 3)
#######..#..#########.GE..#.#### (E 164 3) (G 95 3)
##########..#########..G.##..### (G 200 3)
###########.#########G........## (G 200 3)
#########...#########..........#
#########....#######.......##..#
######...G....#####...########## (G 200 3)
#...##..G..............######### (G 200 3)
#...#...........###....#########
#....G..........###...########## (G 119 3)
#................###############
##....G..........############### (G 200 3)
###.#..............#############
###....G............############ (G 200 3)
###...GEG...........############ (G 200 3) (E 47 3) (G 131 3)
###....G.#....#.#...############ (G 200 3)
###....####.#...##.#############
################################
Elf HP: 430
Goblin HP: 2968
Round #49
################################
#################.....##########
#################..#.###########
#################.........######
##################......########
#################....###########
###############...#..###########
###############.........########
############............########
##########..............########
##########......#.........#..###
##########.......G........G..### (G 128 3) (G 200 3)
#########..G..#####......GE...## (E 23 3) (G 200 3) (G 200 3)
######.......#######....GE.....# (E 149 3) (G 98 3)
#######.....#########..GE.....## (E 35 3) (G 188 3)
#######..#..#########.GE..#.#### (E 158 3) (G 92 3)
##########..#########..G.##..### (G 200 3)
###########.#########.G.......## (G 200 3)
#########...#########..........#
#########....#######.......##..#
######....G...#####...########## (G 200 3)
#...##...G.............######### (G 200 3)
#...#G..........###....######### (G 119 3)
#...............###...##########
#.....G..........############### (G 200 3)
##...............###############
###.#..............#############
###....G............############ (G 200 3)
###...GEG...........############ (G 200 3) (E 35 3) (G 128 3)
###....G.#....#.#...############ (G 200 3)
###....####.#...##.#############
################################
Elf HP: 400
Goblin HP: 2953
Round #50
################################
#################.....##########
#################..#.###########
#################.........######
##################......########
#################....###########
###############...#..###########
###############.........########
############............########
##########..............########
##########......#.........#..###
##########.G......G.......G..### (G 125 3) (G 200 3) (G 200 3)
#########.....#####......GE...## (E 17 3) (G 200 3)
######.......#######....GE.....# (E 149 3) (G 92 3)
#######.....#########..GE.....## (E 29 3) (G 188 3)
#######..#..#########.GE..#.#### (E 152 3) (G 89 3)
##########..#########..G.##..### (G 200 3)
###########.#########..G......## (G 200 3)
#########...#########..........#
#########....#######.......##..#
######.....G..#####...########## (G 200 3)
#...##....G............######### (G 200 3)
#...#.G.........###....######### (G 119 3)
#.....G.........###...########## (G 200 3)
#................###############
##...............###############
###.#..............#############
###....G............############ (G 200 3)
###...GEG...........############ (G 200 3) (E 23 3) (G 125 3)
###....G.#....#.#...############ (G 200 3)
###....####.#...##.#############
################################
Elf HP: 370
Goblin HP: 2938
Round #51
################################
#################.....##########
#################..#.###########
#################.........######
##################......########
#################....###########
###############...#..###########
###############.........########
############............########
##########..............########
##########......#.........#..###
##########..G......G......G..### (G 122 3) (G 200 3) (G 200 3)
#########.....#####......GE...## (E 11 3) (G 200 3)
######.......#######....GE.....# (E 149 3) (G 86 3)
#######.....#########..GE.....## (E 23 3) (G 188 3)
#######..#..#########.GE..#.#### (E 146 3) (G 86 3)
##########..#########..G.##..### (G 200 3)
###########.#########...G.....## (G 200 3)
#########...#########..........#
#########....#######.......##..#
######......G.#####...########## (G 200 3)
#...##.....G...........######### (G 200 3)
#...#..G........###....######### (G 119 3)
#......G........###...########## (G 200 3)
#................###############
##...............###############
###.#..............#############
###....G............############ (G 200 3)
###...GEG...........############ (G 200 3) (E 11 3) (G 122 3)
###....G.#....#.#...############ (G 200 3)
###....####.#...##.#############
################################
Elf HP: 340
Goblin HP: 2923
Round #52
################################
#################.....##########
#################..#.###########
#################.........######
##################......########
#################....###########
###############...#..###########
###############.........########
############............########
##########..............########
##########......#.........#..###
##########...G......G.....G..### (G 119 3) (G 200 3) (G 200 3)
#########.....#####......GE...## (E 5 3) (G 200 3)
######.......#######....GE.....# (E 149 3) (G 80 3)
#######.....#########..GE.....## (E 17 3) (G 188 3)
#######..#..#########.GE..#.#### (E 140 3) (G 83 3)
##########..#########..GG##..### (G 200 3) (G 200 3)
###########.#########.........##
#########...#########..........#
#########....#######.......##..#
######.......G#####...########## (G 200 3)
#...##......G..........######### (G 200 3)
#...#...G.......###....######### (G 119 3)
#.......G.......###...########## (G 200 3)
#................###############
##...............###############
###.#..............#############
###....G............############ (G 200 3)
###...G.G...........############ (G 200 3) (G 119 3)
###....G.#....#.#...############ (G 200 3)
###....####.#...##.#############
################################
Elf HP: 311
Goblin HP: 2908
Round #53
################################
#################.....##########
#################..#.###########
#################.........######
##################......########
#################....###########
###############...#..###########
###############.........########
############............########
##########..............########
##########......#.........#..###
##########....G......G....G..### (G 119 3) (G 200 3) (G 200 3)
#########.....#####......G....## (G 200 3)
######.......#######....GE.....# (E 149 3) (G 74 3)
#######.....#########..GE.....## (E 8 3) (G 188 3)
#######..#..#########.GEG.#.#### (G 200 3) (E 134 3) (G 80 3)
##########..#########..G.##..### (G 200 3)
###########.#########.........##
#########...#########..........#
#########....#######.......##..#
######........#####...##########
#...##.......G.........######### (G 200 3)
#...#....G..G...###....######### (G 200 3) (G 119 3)
#........G......###...########## (G 200 3)
#................###############
##...............###############
###.#..G...........############# (G 200 3)
###...G.G...........############ (G 200 3) (G 119 3)
###....G............############ (G 200 3)
###......#....#.#...############
###....####.#...##.#############
################################
Elf HP: 291
Goblin HP: 2899
Round #54
################################
#################.....##########
#################..#.###########
#################.........######
##################......########
#################....###########
###############...#..###########
###############.........########
############............########
##########..............########
##########......#.........#..###
##########.....G.............### (G 200 3)
#########.....#####..G...GG...## (G 119 3) (G 200 3) (G 200 3)
######.......#######....GE.....# (E 146 3) (G 68 3)
#######.....#########..G......## (G 188 3)
#######..#..#########.GEG.#.#### (G 200 3) (E 128 3) (G 77 3)
##########..#########..G.##..### (G 200 3)
###########.#########.........##
#########...#########..........#
#########....#######.......##..#
######........#####...##########
#...##...G....G........######### (G 200 3) (G 119 3)
#...#........G..###....######### (G 200 3)
#.........G.....###...########## (G 200 3)
#................###############
##.....G.........############### (G 200 3)
###.#.G.G..........############# (G 200 3) (G 119 3)
###....G............############ (G 200 3)
###.................############
###......#....#.#...############
###....####.#...##.#############
################################
Elf HP: 274
Goblin HP: 2890
Round #55
################################
#################.....##########
#################..#.###########
#################.........######
##################......########
#################....###########
###############...#..###########
###############.........########
############............########
##########..............########
##########......#.........#..###
##########......G....G.......### (G 200 3) (G 200 3)
#########.....#####......G....## (G 200 3)
######.......#######....GEG....# (G 119 3) (E 137 3) (G 65 3)
#######.....#########..G......## (G 188 3)
#######..#..#########.GEG.#.#### (G 200 3) (E 116 3) (G 74 3)
##########..#########..G.##..### (G 200 3)
###########.#########.........##
#########...#########..........#
#########....#######.......##..#
######........#####...##########
#...##....G..G.G.......######### (G 200 3) (G 200 3) (G 119 3)
#...#.....G.....###....######### (G 200 3)
#...............###...##########
#......G.........############### (G 200 3)
##....G.G........############### (G 200 3) (G 119 3)
###.#..G...........############# (G 200 3)
###.................############
###.................############
###......#....#.#...############
###....####.#...##.#############
################################
Elf HP: 253
Goblin HP: 2884
Round #56
################################
#################.....##########
#################..#.###########
#################.........######
##################......########
#################....###########
###############...#..###########
###############.........########
############............########
##########..............########
##########......#.........#..###
##########.......G....G......### (G 200 3) (G 200 3)
#########.....#####......G....## (G 200 3)
######.......#######....GEG....# (G 119 3) (E 128 3) (G 62 3)
#######.....#########..G......## (G 188 3)
#######..#..#########.GEG.#.#### (G 200 3) (E 104 3) (G 71 3)
##########..#########..G.##..### (G 200 3)
###########.#########.........##
#########...#########..........#
#########....#######.......##..#
######....G..G#####...########## (G 200 3) (G 119 3)
#...##....G.....G......######### (G 200 3) (G 200 3)
#...#...........###....#########
#......G........###...########## (G 200 3)
#.....G.G........############### (G 200 3) (G 119 3)
##.....G.........############### (G 200 3)
###.#..............#############
###.................############
###.................############
###......#....#.#...############
###....####.#...##.#############
################################
Elf HP: 232
Goblin HP: 2878
Round #57
################################
#################.....##########
#################..#.###########
#################.........######
##################......########
#################....###########
###############...#..###########
###############.........########
############............########
##########..............########
##########......#G........#..### (G 200 3)
##########.............G.....### (G 200 3)
#########.....#####......G....## (G 200 3)
######.......#######....GEG....# (G 119 3) (E 119 3) (G 59 3)
#######.....#########..G......## (G 188 3)
#######..#..#########.GEG.#.#### (G 200 3) (E 92 3) (G 68 3)
##########..#########..G.##..### (G 200 3)
###########.#########.........##
#########...#########..........#
#########.G..#######.......##..# (G 119 3)
######....G.G.#####...########## (G 200 3) (G 200 3)
#...##...........G.....######### (G 200 3)
#...#..G........###....######### (G 200 3)
#.....G.G.......###...########## (G 200 3) (G 119 3)
#......G.........############### (G 200 3)
##...............###############
###.#..............#############
###.................############
###.................############
###......#....#.#...############
###....####.#...##.#############
################################
Elf HP: 211
Goblin HP: 2872
Round #58
################################
#################.....##########
#################..#.###########
#################.........######
##################......########
#################....###########
###############...#..###########
###############.........########
############............########
##########..............########
##########......#.G.......#..### (G 200 3)
##########..............G....### (G 200 3)
#########.....#####......G....## (G 200 3)
######.......#######....GEG....# (G 119 3) (E 110 3) (G 56 3)
#######.....#########..G......## (G 188 3)
#######..#..#########.GEG.#.#### (G 200 3) (E 80 3) (G 65 3)
##########..#########..G.##..### (G 200 3)
###########.#########.........##
#########.G.#########..........# (G 119 3)
#########.G.G#######.......##..# (G 200 3) (G 200 3)
######........#####...##########
#...##.G..........G....######### (G 200 3) (G 200 3)
#...#.G.G.......###....######### (G 200 3) (G 119 3)
#......G........###...########## (G 200 3)
#................###############
##...............###############
###.#..............#############
###.................############
###.................############
###......#....#.#...############
###....####.#...##.#############
################################
Elf HP: 190
Goblin HP: 2866
Round #59
################################
#################.....##########
#################..#.###########
#################.........######
##################......########
#################....###########
###############...#..###########
###############.........########
############............########
##########..............########
##########......#..G......#..### (G 200 3)
##########...............G...### (G 200 3)
#########.....#####......G....## (G 200 3)
######.......#######....GEG....# (G 119 3) (E 101 3) (G 53 3)
#######.....#########..G......## (G 188 3)
#######..#..#########.GEG.#.#### (G 200 3) (E 68 3) (G 62 3)
##########..#########..G.##..### (G 200 3)
###########.#########.........##
#########..G#########..........# (G 119 3)
#########.G.G#######.......##..# (G 200 3) (G 200 3)
######........#####...##########
#...##.G...........G...######### (G 200 3) (G 200 3)
#...#.G.G.......###....######### (G 200 3) (G 119 3)
#......G........###...########## (G 200 3)
#................###############
##...............###############
###.#..............#############
###.................############
###.................############
###......#....#.#...############
###....####.#...##.#############
################################
Elf HP: 169
Goblin HP: 2860
Round #60
################################
#################.....##########
#################..#.###########
#################.........######
##################......########
#################....###########
###############...#..###########
###############.........########
############............########
##########..............########
##########......#...G.....#..### (G 200 3)
##########................G..### (G 200 3)
#########.....#####......G....## (G 200 3)
######.......#######....GEG....# (G 119 3) (E 92 3) (G 50 3)
#######.....#########..G......## (G 188 3)
#######..#..#########.GEG.#.#### (G 200 3) (E 56 3) (G 59 3)
##########..#########..G.##..### (G 200 3)
###########G#########.........## (G 119 3)
#########...#########..........#
#########.G.G#######.......##..# (G 200 3) (G 200 3)
######........#####G..########## (G 200 3)
#...##GGG..............######### (G 200 3) (G 200 3) (G 119 3)
#...#..G........###....######### (G 200 3)
#...............###...##########
#................###############
##...............###############
###.#..............#############
###.................############
###.................############
###......#....#.#...############
###....####.#...##.#############
################################
Elf HP: 148
Goblin HP: 2854
Round #61
################################
#################.....##########
#################..#.###########
#################.........######
##################......########
#################....###########
###############...#..###########
###############.........########
############............########
##########..............########
##########......#....G....#..### (G 200 3)
##########.................G.### (G 200 3)
#########.....#####......G....## (G 200 3)
######.......#######....GEG....# (G 119 3) (E 83 3) (G 47 3)
#######.....#########..G......## (G 188 3)
#######..#..#########.GEG.#.#### (G 200 3) (E 44 3) (G 56 3)
##########.G#########..G.##..### (G 200 3) (G 119 3)
###########.#########.........##
#########...#########..........#
#########..G.#######.......##..# (G 200 3)
######GG....G.#####.G.########## (G 200 3) (G 200 3) (G 200 3) (G 119 3)
#...##...G.............######### (G 200 3)
#...#...G.......###....######### (G 200 3)
#...............###...##########
#................###############
##...............###############
###.#..............#############
###.................############
###.................############
###......#....#.#...############
###....####.#...##.#############
################################
Elf HP: 127
Goblin HP: 2848
Round #62
################################
#################.....##########
#################..#.###########
#################.........######
##################......########
#################....###########
###############...#..###########
###############.........########
############............########
##########..............########
##########......#.....G...#..### (G 200 3)
##########...................###
#########.....#####......G.G..## (G 200 3) (G 200 3)
######.......#######....GEG....# (G 119 3) (E 74 3) (G 44 3)
#######.....#########..G......## (G 188 3)
#######..#.G#########.GEG.#.#### (G 200 3) (E 32 3) (G 53 3) (G 119 3)
##########..#########..G.##..### (G 200 3)
###########.#########.........##
#########...#########..........#
#########....#######G......##..# (G 200 3)
######..G..G.G#####...########## (G 200 3) (G 200 3) (G 200 3)
#...##G...G............######### (G 200 3) (G 119 3)
#...#....G......###....######### (G 200 3)
#...............###...##########
#................###############
##...............###############
###.#..............#############
###.................############
###.................############
###......#....#.#...############
###....####.#...##.#############
################################
Elf HP: 106
Goblin HP: 2842
Round #63
################################
#################.....##########
#################..#.###########
#################.........######
##################......########
#################....###########
###############...#..###########
###############.........########
############............########
##########..............########
##########......#......G..#..### (G 200 3)
##########...................###
#########.....#####......G....## (G 200 3)
######.......#######....GEGG...# (G 200 3) (G 119 3) (E 65 3) (G 41 3)
#######....G#########..G......## (G 188 3) (G 119 3)
#######..#..#########.GEG.#.#### (G 200 3) (E 20 3) (G 50 3)
##########..#########..G.##..### (G 200 3)
###########.#########.........##
#########...#########..........#
#########..G.#######.G.....##..# (G 200 3) (G 200 3)
######...GG.G.#####...########## (G 200 3) (G 200 3) (G 200 3)
#...##.G...............######### (G 119 3)
#...#....G......###....######### (G 200 3)
#...............###...##########
#................###############
##...............###############
###.#..............#############
###.................############
###.................############
###......#....#.#...############
###....####.#...##.#############
################################
Elf HP: 85
Goblin HP: 2836
Round #64
################################
#################.....##########
#################..#.###########
#################.........######
##################......########
#################....###########
###############...#..###########
###############.........########
############............########
##########..............########
##########......#.......G.#..### (G 200 3)
##########...................###
#########.....#####......G....## (G 200 3)
######.......#######....GEG....# (G 119 3) (E 56 3) (G 38 3)
#######....G#########..G...G..## (G 200 3) (G 188 3) (G 119 3)
#######..#..#########.GEG.#.#### (G 200 3) (E 8 3) (G 47 3)
##########..#########..G.##..### (G 200 3)
###########.#########.........##
#########...#########..........#
#########..G.#######.G.....##..# (G 200 3) (G 200 3)
######...GG.G.#####...########## (G 200 3) (G 200 3) (G 200 3)
#...##.G...............######### (G 119 3)
#...#....G......###....######### (G 200 3)
#...............###...##########
#................###############
##...............###############
###.#..............#############
###.................############
###.................############
###......#....#.#...############
###....####.#...##.#############
################################
Elf HP: 64
Goblin HP: 2830
Round #65
################################
#################.....##########
#################..#.###########
#################.........######
##################......########
#################....###########
###############...#..###########
###############.........########
############............########
##########..............########
##########......#.......G.#..### (G 200 3)
##########...................###
#########.....#####......G....## (G 200 3)
######.......#######....GEG....# (G 119 3) (E 47 3) (G 35 3)
#######....G#########..G..G...## (G 200 3) (G 188 3) (G 119 3)
#######..#..#########.G.G.#.#### (G 200 3) (G 44 3)
##########..#########..G.##..### (G 200 3)
###########.#########.........##
#########...#########..........#
#########..G.#######.G.....##..# (G 200 3) (G 200 3)
######...GG.G.#####...########## (G 200 3) (G 200 3) (G 200 3)
#...##.G...............######### (G 119 3)
#...#....G......###....######### (G 200 3)
#...............###...##########
#................###############
##...............###############
###.#..............#############
###.................############
###.................############
###......#....#.#...############
###....####.#...##.#############
################################
Elf HP: 47
Goblin HP: 2824
Round #66
################################
#################.....##########
#################..#.###########
#################.........######
##################......########
#################....###########
###############...#..###########
###############.........########
############............########
##########..............########
##########......#.......G.#..### (G 200 3)
##########...................###
#########.....#####......G....## (G 200 3)
######.......#######....GEG....# (G 119 3) (E 35 3) (G 32 3)
#######....G#########...GG....## (G 200 3) (G 188 3) (G 119 3)
#######..#..#########.G.G.#.#### (G 200 3) (G 44 3)
##########..#########..G.##..### (G 200 3)
###########.#########.........##
#########...#########..........#
#########..G.#######.G.....##..# (G 200 3) (G 200 3)
######...GG.G.#####...########## (G 200 3) (G 200 3) (G 200 3)
#...##.G...............######### (G 119 3)
#...#....G......###....######### (G 200 3)
#...............###...##########
#................###############
##...............###############
###.#..............#############
###.................############
###.................############
###......#....#.#...############
###....####.#...##.#############
################################
Elf HP: 35
Goblin HP: 2821
Round #67
################################
#################.....##########
#################..#.###########
#################.........######
##################......########
#################....###########
###############...#..###########
###############.........########
############............########
##########..............########
##########......#.......G.#..### (G 200 3)
##########...................###
#########.....#####......G....## (G 200 3)
######.......#######....GEG....# (G 119 3) (E 23 3) (G 29 3)
#######....G#########...GG....## (G 200 3) (G 188 3) (G 119 3)
#######..#..#########.G.G.#.#### (G 200 3) (G 44 3)
##########..#########..G.##..### (G 200 3)
###########.#########.........##
#########...#########..........#
#########..G.#######.G.....##..# (G 200 3) (G 200 3)
######...GG.G.#####...########## (G 200 3) (G 200 3) (G 200 3)
#...##.G...............######### (G 119 3)
#...#....G......###....######### (G 200 3)
#...............###...##########
#................###############
##...............###############
###.#..............#############
###.................############
###.................############
###......#....#.#...############
###....####.#...##.#############
################################
Elf HP: 23
Goblin HP: 2818
Round #68
################################
#################.....##########
#################..#.###########
#################.........######
##################......########
#################....###########
###############...#..###########
###############.........########
############............########
##########..............########
##########......#.......G.#..### (G 200 3)
##########...................###
#########.....#####......G....## (G 200 3)
######.......#######....GEG....# (G 119 3) (E 11 3) (G 26 3)
#######....G#########...GG....## (G 200 3) (G 188 3) (G 119 3)
#######..#..#########.G.G.#.#### (G 200 3) (G 44 3)
##########..#########..G.##..### (G 200 3)
###########.#########.........##
#########...#########..........#
#########..G.#######.G.....##..# (G 200 3) (G 200 3)
######...GG.G.#####...########## (G 200 3) (G 200 3) (G 200 3)
#...##.G...............######### (G 119 3)
#...#....G......###....######### (G 200 3)
#...............###...##########
#................###############
##...............###############
###.#..............#############
###.................############
###.................############
###......#....#.#...############
###....####.#...##.#############
################################
Elf HP: 11
Goblin HP: 2815
Round #68
################################
#################.....##########
#################..#.###########
#################.........######
##################......########
#################....###########
###############...#..###########
###############.........########
############............########
##########..............########
##########......#.......G.#..### (G 200 3)
##########...................###
#########.....#####......G....## (G 200 3)
######.......#######....G.G....# (G 119 3) (G 23 3)
#######....G#########...GG....## (G 200 3) (G 188 3) (G 119 3)
#######..#..#########.G.G.#.#### (G 200 3) (G 44 3)
##########..#########..G.##..### (G 200 3)
###########.#########.........##
#########...#########..........#
#########..G.#######.G.....##..# (G 200 3) (G 200 3)
######...GG.G.#####...########## (G 200 3) (G 200 3) (G 200 3)
#...##.G...............######### (G 119 3)
#...#....G......###....######### (G 200 3)
#...............###...##########
#................###############
##...............###############
###.#..............#############
###.................############
###.................############
###......#....#.#...############
###....####.#...##.#############
################################
Elf HP: 0
Goblin HP: 2812
#+end_example

The consensus seems to be that this one should be 68 rounds and 2812
health.

#+RESULTS:
#+begin_example
Round #0
################################
#################.....##########
#################..#.###########
#################.........######
##################......########
#################G.GG########### (G 200 3) (G 200 3) (G 200 3)
###############...#..###########
###############......G..######## (G 200 3)
############..G.........######## (G 200 3)
##########.G.....G......######## (G 200 3) (G 200 3)
##########......#.........#..###
##########...................###
#########G..G.#####....E.G.E..## (E 200 3) (G 200 3) (E 200 3) (G 200 3) (G 200 3)
######..G....#######...........# (G 200 3)
#######.....#########.........##
#######..#..#########.....#.####
##########..#########..G.##..### (G 200 3)
###########G#########...E...E.## (E 200 3) (E 200 3) (G 200 3)
#########.G.#########..........# (G 200 3)
#########GG..#######.......##.E# (E 200 3) (G 200 3) (G 200 3)
######.G......#####...########## (G 200 3)
#...##..G..............######### (G 200 3)
#...#...........###..E.######### (E 200 3)
#.G.............###...########## (G 200 3)
#................###############
##.........E.....############### (E 200 3)
###.#..............#############
###..G........E.....############ (E 200 3) (G 200 3)
###......E..........############ (E 200 3)
###......#....#E#...############ (E 200 3)
###....####.#...##.#############
################################
Elf HP: 2000
Goblin HP: 4000
Round #71
################################
#################.....##########
#################..#.###########
#################.........######
##################......########
#################....###########
###############...#..###########
###############.........########
############............########
##########.....G........######## (G 200 3)
##########......#....G....#..### (G 200 3)
##########.............G.....### (G 116 3)
#########.....#####.......G...## (G 47 3)
######.......#######....G..G...# (G 200 3) (G 101 3)
#######.....#########..G.G.G..## (G 200 3) (G 149 3) (G 131 3)
#######..#..#########...G.#.#### (G 122 3)
##########..#########....##..###
###########.#########....G....## (G 200 3)
#########.GG#########..........# (G 200 3) (G 128 3)
#########.G..#######.......##..# (G 200 3)
######......G.#####...########## (G 200 3)
#...##.GG.........G....######### (G 197 3) (G 50 3) (G 143 3)
#...#...........###....#########
#...............###...##########
#................###############
##...............###############
###.#..............#############
###.................############
###.................############
###......#....#.#...############
###....####.#...##.#############
################################
Elf HP: 0
Goblin HP: 2784
#+end_example

#+NAME: test-cases
#+BEGIN_SRC lisp :results output :exports both
  (def-suite aoc.2018.15)
  (in-suite aoc.2018.15)

  (test manhattan
    (is (= 0 (manhattan-distance (complex 0 0) (complex 0 0))))
    (is (= 1 (manhattan-distance (complex 0 1) (complex 0 0))))
    (is (= 3 (manhattan-distance (complex 1 1) (complex 3 0)))))

  (test reading-order
    (is (equal `((#C(0 0) 4) (#C(1 1) 3))
               (reading-order '((#C(1 1) 3) (#C(0 0) 4))))))

  (run! 'aoc.2018.15)
#+END_SRC
** Test Results
#+RESULTS: test-cases
: 
: Running test suite AOC.2018.15
:  Running test MANHATTAN ...
:  Running test READING-ORDER .
:  Did 4 checks.
:     Pass: 4 (100%)
:     Skip: 0 ( 0%)
:     Fail: 0 ( 0%)
** Thoughts
