#+STARTUP: indent contents
#+OPTIONS: num:nil toc:nil
* Day 18
** Executing this code
If you have a lisp installation, emacs, org-mode, and org-babel
support for lisp installed you can run this by:
1. Starting slime (=M-x slime=)
2. Typing =C-c C-c= in the block [[initialize][initialize]].
3. In the repl type =(in-package :aoc-2016-18)=
4. Typing =C-c C-c= in the block [[answers][answers]]
** Initial stuffs
*** Packages to load
#+NAME: packages
#+BEGIN_SRC lisp :results silent
  (unless (find-package :cl-ppcre)
    (ql:quickload "cl-ppcre"))
  (unless (find-package :iterate)
    (ql:quickload "iterate"))
  (unless (find-package :parseq)
    (ql:quickload "parseq"))
  (unless (find-package :fiveam)
    (ql:quickload "fiveam"))
  (unless (find-package :series)
    (ql:quickload "series"))
  (unless (find-package :cl-permutation)
    (ql:quickload "cl-permutation"))
  (unless (find-package :bordeaux-threads)
    (ql:quickload "bordeaux-threads"))
#+END_SRC
*** Create package for this day
#+NAME: initialize
#+BEGIN_SRC lisp :noweb yes :results silent
  <<packages>>
  (defpackage :aoc-2016-18
    (:use :common-lisp
          :iterate
          :parseq
          :fiveam)
    (:export :problem-a
             :problem-b))
  (in-package :aoc-2016-18)
#+END_SRC
** Input
#+NAME: read-input
#+BEGIN_SRC lisp :results silent
  (defun read-input (file)
    (with-open-file (s file)
      (read-line s)))
#+END_SRC
#+NAME: input
#+BEGIN_SRC lisp :noweb yes :results silent
  (defparameter *input*
    (read-input "input/18.txt"))
#+END_SRC
** Part 1
#+NAME: problem-a
#+BEGIN_SRC lisp :noweb yes :results silent
  (defun next-row (row)
    (loop for i from 0 below (length row)
       for left = (or (and (zerop i) #\.)
                      (char row (1- i)))
       for right = (or (and (= (length row) (1+ i)) #\.)
                       (char row (1+ i)))
       finally (return (format nil "窿铄舂泔祆邈ㄣ镱è汨狎戾骠蜷玷舂＼＼蕞轭麸铄舂ㄤ彐躅泔躅舡趄狃蝻泔躅舂祜镳蝈疱狒泔躅骘ㄣ镳箦蝻鳗翳孱铄舡蝻颟篚眄轭ㄣ秕铘＼颟┅ㄤ彐躅痱镡戾憝īㄦ矧磲⑿蝻忪屙备梁狺アㄣ秕铘趄狃轭瘐舄窗┅＋盼倪右嗅螋＋瘟团痱镡戾憝＋屡巧芜右扉箴侯秣邂弩候弩蹯趔箝戾铘ㄤ彐躅痱镡戾憝īㄦ矧磲⑿蝻忪屙备潞狺アㄣ秕铘趄狃轭瘐舄窗鞍鞍┅＋盼倪右絮趑轭轸犰麸珏翳弪＋瘟团篝蝓泗＋屡巧芜右扉箴侯秣邂弩候弩蹯趔箝戾铘＋盼倪右＋瘟团骢钽糸镱＋屡巧芜右扉箴侯秣邂弩候弩蹯趔箝戾铘技蝈徜轭瘐艟技轭瘐艟＋盼倪右＋瘟团犷篦弪＋屡巧芜右扉箴候弩蹯趔秕麴豸哄痫螋怙翳侯秣邂弩呼犷珈铒技轭轸獒扉寰技篝蝓泗缶技骢钽糸镱缶技轭瘐艟技痱镡戾憝峋技痱镡戾憝饩痱镡戾憝岍痱镡戾憝猢＋盼倪右令篦弪＋遗诱淘雍犷篦弪序镡戾备梁惫刀序镡戾备潞惫构当脖藻篝冕箦＋瘟团翦篝汜箦＋屡巧芜右扉箴候弩蹯趔秕麴豸哄痫螋怙翳ㄤ彐篚轸犸惝舶倍备ㄩ瞽篚轸犸惝舶倍备蝓睢п镢舶倍备＋盼倪右藻篝义篚祠＋遗诱淘雍翦篝汜箦澡秕玷趔